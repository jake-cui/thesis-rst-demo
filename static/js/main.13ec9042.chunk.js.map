{"version":3,"sources":["treeRead.js","articleGenerate.js","App.js","serviceWorker.js","index.js"],"names":["test_string","split","join","nodenum","make_JSON_string","inputstring","jsonstringoutput","remaining_input","trim","recursiveread","type","type2","output","spanloc","indexOf","leafloc","substring","txt","currentloc","parentcloseloc","find_closed_bracket","childopenloc","done","count","childcloseloc","length","contained_text_startloc","contained_text_endloc","contained_text","console","log","cut_text","bounds","span_len","parseInt","input","bracket_count","location_of_closed","current_base_index","errorboolean","first_open_bracket_found","nextopen","nextclosed","new_string","JSON","parse","string_output","node_map","counter","leaves","leaves_with_id","leaf_counter","traverse","o","i","processed_string","temp","sibling","getNodeMapIndex","left","right","replace","getFunction","node","tempIndex","error","nodeFunction","initial_size","splitParagraphText","leftIndex","rightIndex","meanLength","minSize","maxSize","temp_output","getLeafTextIndices","tempNode","jank_temp","push","tempLeft","tempRight","temp_size","Math","abs","getIndices","name","a","b","removeSpaceBefore","getLeafText","s","punct","p","collapsibles","collapsibleRanges","max","leaf","includes","siblingFunction","leafNum","collapsibleRange","collapseInfo","leafRange","splitPara","concat","final_range","numLeaves","Object","keys","finalSplit","identifyCollapsible","Header","Step","Content","Footer","window","$","Option","SubMenu","Panel","InstructionSteps","href","src","width","direction","size","title","description","status","text","function","id","className","header","bodytext","tooltip","React","Component","RawTextRenderer","NavMenu","state","current","handleClick","e","setState","key","ReactDOM","render","document","getElementById","style","textAlign","onClick","this","selectedKeys","mode","Item","active","CollapsibleSentence","placement","props","bordered","defaultActiveKey","showArrow","ParagraphText","x","classname","App","divs","col","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","URL","process","origin","addEventListener","fetch","response","contentType","headers","get","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.13ec9042.chunk.js","sourcesContent":["var test_string = \"( Root (span 1 27)( Nucleus (leaf 1) (rel2par TextualOrganization) (text _!Gallery unveils interactive tree_!) )( Nucleus (span 2 27) (rel2par TextualOrganization)( Nucleus (span 2 23) (rel2par span)( Nucleus (span 2 21) (rel2par span)( Nucleus (span 2 19) (rel2par span)( Nucleus (span 2 10) (rel2par span)( Nucleus (span 2 4) (rel2par span)( Nucleus (span 2 3) (rel2par Same-Unit)( Nucleus (leaf 2) (rel2par span) (text _!A Christmas tree_!) )( Satellite (leaf 3) (rel2par Elaboration) (text _!that can receive text messages_!) ))( Nucleus (leaf 4) (rel2par Same-Unit) (text _!has been unveiled at London 's Tate Britain art gallery ._!) ))( Satellite (span 5 10) (rel2par Elaboration)( Nucleus (span 5 7) (rel2par span)( Nucleus (leaf 5) (rel2par span) (text _!The spruce has an antenna_!) )( Satellite (span 6 7) (rel2par Elaboration)( Nucleus (leaf 6) (rel2par span) (text _!which can receive Bluetooth texts_!) )( Satellite (leaf 7) (rel2par Elaboration) (text _!sent by visitors to the Tate ._!) )))( Satellite (span 8 10) (rel2par Elaboration)( Nucleus (leaf 8) (rel2par span) (text _!The messages will be \\\\\\\" unwrapped \\\\\\\"_!) )( Satellite (span 9 10) (rel2par Manner-Means)( Nucleus (leaf 9) (rel2par span) (text _!by sculptor Richard Wentworth ,_!) )( Satellite (leaf 10) (rel2par Elaboration) (text _!who is responsible for decorating the tree with broken plates and light bulbs ._!) )))))( Satellite (span 11 19) (rel2par Elaboration)( Nucleus (span 11 17) (rel2par span)( Nucleus (span 11 15) (rel2par span)( Nucleus (span 11 13) (rel2par span)( Nucleus (leaf 11) (rel2par span) (text _!It is the 17th year_!) )( Satellite (span 12 13) (rel2par Elaboration)( Nucleus (leaf 12) (rel2par span) (text _!that the gallery has invited an artist_!) )( Satellite (leaf 13) (rel2par Enablement) (text _!to dress their Christmas tree ._!) )))( Satellite (span 14 15) (rel2par Elaboration)( Nucleus (leaf 14) (rel2par span) (text _!Artists_!) )( Satellite (leaf 15) (rel2par Elaboration) (text _!who have decorated the Tate tree in previous years include Tracey Emin in 2002 ._!) )))( Satellite (span 16 17) (rel2par Elaboration)( Satellite (leaf 16) (rel2par Attribution) (text _!The plain green Norway_!) )( Nucleus (leaf 17) (rel2par span) (text _!spruce is displayed in the gallery 's foyer ._!) )))( Satellite (span 18 19) (rel2par Elaboration)( Satellite (leaf 18) (rel2par Background) (text _!Its light bulb adornments are dimmed ,_!) )( Nucleus (leaf 19) (rel2par span) (text _!ordinary domestic ones joined together with string ._!) ))))( Satellite (span 20 21) (rel2par Elaboration)( Satellite (leaf 20) (rel2par Attribution) (text _!The plates_!) )( Nucleus (leaf 21) (rel2par span) (text _!decorating the branches will be auctioned off for the children 's charity ArtWorks ._!) )))( Satellite (span 22 23) (rel2par Elaboration)( Nucleus (leaf 22) (rel2par span) (text _!Wentworth worked as an assistant_!) )( Satellite (leaf 23) (rel2par Enablement) (text _!to sculptor Henry Moore in the late 1960s ._!) )))( Satellite (span 24 27) (rel2par Elaboration)( Nucleus (span 24 25) (rel2par span)( Nucleus (leaf 24) (rel2par Temporal) (text _!His reputation as a sculptor grew in the 1980s ,_!) )( Nucleus (leaf 25) (rel2par Temporal) (text _!while he has been one of the most influential teachers during the last two decades ._!) ))( Satellite (span 26 27) (rel2par Elaboration)( Nucleus (leaf 26) (rel2par span) (text _!Wentworth is also known for his photography of mundane , everyday subjects such as a cigarette packet_!) )( Satellite (leaf 27) (rel2par Elaboration) (text _!jammed under the wonky leg of a table ._!) )))))\";\nvar test_string2 = \"( Root (span 1 38)( Nucleus (span 1 34) (rel2par span)( Nucleus (span 1 28) (rel2par span)( Nucleus (span 1 27) (rel2par span)( Nucleus (span 1 7) (rel2par span)( Nucleus (span 1 3) (rel2par span)( Nucleus (leaf 1) (rel2par span) (text _!The European Parliament has thrown out a bill_!) )( Satellite (span 2 3) (rel2par Elaboration)( Nucleus (leaf 2) (rel2par span) (text _!that would have allowed software_!) )( Satellite (leaf 3) (rel2par Elaboration) (text _!to be patented ._!) )))( Satellite (span 4 7) (rel2par Elaboration)( Nucleus (leaf 4) (rel2par Joint) (text _!Politicians unanimously rejected the bill_!) )( Nucleus (span 5 7) (rel2par Joint)( Nucleus (leaf 5) (rel2par span) (text _!and now it must go through another round of consultation_!) )( Satellite (span 6 7) (rel2par Condition)( Nucleus (leaf 6) (rel2par span) (text _!if it is to have a chance_!) )( Satellite (leaf 7) (rel2par Elaboration) (text _!of becoming law ._!) )))))( Satellite (span 8 27) (rel2par Elaboration)( Nucleus (leaf 8) (rel2par span) (text _!During consultation the software patents bill could be substantially re-drafted or even scrapped ._!) )( Satellite (span 9 27) (rel2par Explanation)( Nucleus (span 9 12) (rel2par span)( Nucleus (leaf 9) (rel2par span) (text _!The bill was backed by some hi-tech firms ,_!) )( Satellite (span 10 12) (rel2par Elaboration)( Satellite (leaf 10) (rel2par Attribution) (text _!saying_!) )( Nucleus (span 11 12) (rel2par span)( Nucleus (leaf 11) (rel2par span) (text _!they needed protections_!) )( Satellite (leaf 12) (rel2par Elaboration) (text _!it offered to make research worthwhile ._!) ))))( Satellite (span 13 27) (rel2par Elaboration)( Nucleus (span 13 16) (rel2par span)( Nucleus (leaf 13) (rel2par span) (text _!Hugo Lueders , European director for public policy at CompTIA , an umbrella organization for technology companies ,_!) )( Satellite (span 14 16) (rel2par Attribution)( Nucleus (span 14 15) (rel2par Same-Unit)( Nucleus (leaf 14) (rel2par span) (text _!said only_!) )( Satellite (leaf 15) (rel2par Background) (text _!when intellectual property was adequately protected_!) ))( Nucleus (leaf 16) (rel2par Same-Unit) (text _!would European inventors prosper ._!) )))( Satellite (span 17 27) (rel2par Explanation)( Nucleus (span 17 19) (rel2par span)( Satellite (leaf 17) (rel2par Attribution) (text _!He said_!) )( Nucleus (span 18 19) (rel2par span)( Nucleus (leaf 18) (rel2par span) (text _!the benefits of the bill had been obscured by special interest groups_!) )( Satellite (leaf 19) (rel2par Elaboration) (text _!which muddied debate over the rights and wrongs of software patents ._!) )))( Satellite (span 20 27) (rel2par Elaboration)( Satellite (span 20 23) (rel2par Contrast)( Satellite (leaf 20) (rel2par Attribution) (text _!Other proponents of the bill said_!) )( Nucleus (span 21 23) (rel2par span)( Nucleus (leaf 21) (rel2par span) (text _!it was a good compromise_!) )( Satellite (span 22 23) (rel2par Elaboration)( Nucleus (leaf 22) (rel2par span) (text _!that avoided the excesses of the American system_!) )( Satellite (leaf 23) (rel2par Elaboration) (text _!which allows the patenting of business practices as well as software ._!) ))))( Nucleus (span 24 27) (rel2par span)( Satellite (leaf 24) (rel2par Attribution) (text _!But opponents of the bill said_!) )( Nucleus (span 25 27) (rel2par span)( Nucleus (leaf 25) (rel2par Contrast) (text _!that it could stifle innovation ,_!) )( Nucleus (span 26 27) (rel2par Contrast)( Nucleus (leaf 26) (rel2par Joint) (text _!be abused by firms keen to protect existing monopolies_!) )( Nucleus (leaf 27) (rel2par Joint) (text _!and could hamper the growth of the open source movement ._!) ))))))))))( Satellite (leaf 28) (rel2par Elaboration) (text _!The proposed law had a troubled passage through the European parliament ._!) ))( Satellite (span 29 34) (rel2par Elaboration)( Nucleus (span 29 31) (rel2par span)( Nucleus (leaf 29) (rel2par span) (text _!Its progress was delayed twice_!) )( Satellite (span 30 31) (rel2par Background)( Nucleus (leaf 30) (rel2par span) (text _!when Polish MEPs rejected plans_!) )( Satellite (leaf 31) (rel2par Elaboration) (text _!to adopt it ._!) )))( Satellite (span 32 34) (rel2par Elaboration)( Nucleus (leaf 32) (rel2par Same-Unit) (text _!Also earlier this month the influential European Legal Affairs Committee_!) )( Nucleus (span 33 34) (rel2par Same-Unit)( Satellite (leaf 33) (rel2par Attribution) (text _!( JURI ) said_!) )( Nucleus (leaf 34) (rel2par span) (text _!the law should be re-drafted after it failed to win the support of MEPs ._!) )))))( Satellite (span 35 38) (rel2par Elaboration)( Nucleus (span 35 36) (rel2par span)( Satellite (leaf 35) (rel2par Enablement) (text _!To become law_!) )( Nucleus (leaf 36) (rel2par span) (text _!both the European Parliament and a qualified majority of EU states have to approve of the draft wording of the bill ._!) ))( Satellite (span 37 38) (rel2par Elaboration)( Satellite (leaf 37) (rel2par Attribution) (text _!The latest rejection means_!) )( Nucleus (leaf 38) (rel2par span) (text _!that now the bill on computer inventions must go back to the EU for re-consideration ._!) ))))\";\nvar test_string3=\"( Root (span 1 102)( Nucleus (span 1 42) (rel2par span)( Nucleus (span 1 23) (rel2par span)( Nucleus (leaf 1) (rel2par TextualOrganization) (text _!Butler launches attack on Blair_!) )( Nucleus (span 2 23) (rel2par TextualOrganization)( Nucleus (span 2 16) (rel2par span)( Nucleus (span 2 4) (rel2par span)( Nucleus (span 2 3) (rel2par Same-Unit)( Nucleus (leaf 2) (rel2par span) (text _!Former civil service chief Lord Butler has criticised the way_!) )( Satellite (leaf 3) (rel2par Elaboration) (text _!Tony Blair 's government operates ,_!) ))( Nucleus (leaf 4) (rel2par Same-Unit) (text _!accusing it of being obsessed with headlines ._!) ))( Satellite (span 5 16) (rel2par Elaboration)( Nucleus (span 5 7) (rel2par span)( Nucleus (leaf 5) (rel2par span) (text _!He also attacked the way_!) )( Satellite (span 6 7) (rel2par Elaboration)( Nucleus (leaf 6) (rel2par span) (text _!the Iraq war was \\\\\\\" sold \\\\\\\" to the public ,_!) )( Satellite (leaf 7) (rel2par Background) (text _!with important warnings on the strength of the intelligence left out ._!) )))( Satellite (span 8 16) (rel2par Elaboration)( Nucleus (span 8 12) (rel2par span)( Satellite (span 8 10) (rel2par Contrast)( Satellite (leaf 8) (rel2par Attribution) (text _!Tory leader Michael Howard said_!) )( Nucleus (span 9 10) (rel2par span)( Nucleus (leaf 9) (rel2par span) (text _!Lord Butler had given the \\\\\\\" most damaging testimony \\\\\\\"_!) )( Satellite (leaf 10) (rel2par Elaboration) (text _!he could remember ._!) )))( Nucleus (span 11 12) (rel2par span)( Satellite (leaf 11) (rel2par Attribution) (text _!But Downing Street said_!) )( Nucleus (leaf 12) (rel2par span) (text _!Mr Blair should be judged by results not his style ._!) )))( Satellite (span 13 16) (rel2par Elaboration)( Satellite (leaf 13) (rel2par Attribution) (text _!Lord Butler said_!) )( Nucleus (span 14 16) (rel2par span)( Nucleus (leaf 14) (rel2par Joint) (text _!Mr Blair bypassed the Cabinet_!) )( Nucleus (span 15 16) (rel2par Joint)( Nucleus (leaf 15) (rel2par span) (text _!and relied instead on small , informal groups of advisers_!) )( Satellite (leaf 16) (rel2par Enablement) (text _!to help him make decisions ._!) )))))))( Satellite (span 17 23) (rel2par Elaboration)( Satellite (span 17 20) (rel2par Contrast)( Satellite (leaf 17) (rel2par Attribution) (text _!The prime minister 's official spokesman said_!) )( Nucleus (span 18 20) (rel2par span)( Nucleus (leaf 18) (rel2par span) (text _!the Cabinet was still used_!) )( Satellite (span 19 20) (rel2par Enablement)( Nucleus (leaf 19) (rel2par span) (text _!to achieve a consensus_!) )( Satellite (leaf 20) (rel2par Elaboration) (text _!on important issues ._!) ))))( Nucleus (span 21 23) (rel2par span)( Nucleus (leaf 21) (rel2par span) (text _!But he added : \\\\\\\"_!) )( Satellite (span 22 23) (rel2par Elaboration)( Nucleus (leaf 22) (rel2par span) (text _!You cannot , in a modern government ,_!) )( Satellite (leaf 23) (rel2par Elaboration) (text _!take every decision in Cabinet ._!) ))))))( Satellite (span 24 42) (rel2par Elaboration)( Nucleus (span 24 29) (rel2par span)( Nucleus (leaf 24) (rel2par span) (text _!It 's just not possible . \\\\\\\"_!) )( Satellite (span 25 29) (rel2par Elaboration)( Satellite (leaf 25) (rel2par Attribution) (text _!Lord Butler said_!) )( Nucleus (span 26 29) (rel2par span)( Nucleus (span 26 28) (rel2par span)( Nucleus (leaf 26) (rel2par span) (text _!the government had too much freedom_!) )( Satellite (span 27 28) (rel2par Elaboration)( Nucleus (leaf 27) (rel2par span) (text _!to \\\\\\\" bring in bad Bills \\\\\\\" and \\\\\\\"_!) )( Satellite (leaf 28) (rel2par Enablement) (text _!to do whatever it likes \\\\\\\"_!) )))( Satellite (leaf 29) (rel2par Cause) (text _!and it relied too much on the advice of political appointees ._!) ))))( Satellite (span 30 42) (rel2par Elaboration)( Nucleus (span 30 39) (rel2par span)( Nucleus (span 30 36) (rel2par span)( Nucleus (span 30 35) (rel2par span)( Satellite (leaf 30) (rel2par Attribution) (text _!The former cabinet secretary said in an interview with The Spectator magazine :_!) )( Nucleus (span 31 35) (rel2par span)( Nucleus (span 31 32) (rel2par Joint)( Nucleus (leaf 31) (rel2par span) (text _!\\\\\\\" I would be critical of the present government_!) )( Satellite (leaf 32) (rel2par Elaboration) (text _!in that there is too much emphasis on selling ,_!) ))( Nucleus (span 33 35) (rel2par Joint)( Nucleus (leaf 33) (rel2par Joint) (text _!there is too much central control_!) )( Nucleus (span 34 35) (rel2par Joint)( Nucleus (leaf 34) (rel2par span) (text _!and there is too little of what I would describe as reasoned deliberation_!) )( Satellite (leaf 35) (rel2par Elaboration) (text _!which brings in all the arguments . \\\\\\\"_!) )))))( Satellite (leaf 36) (rel2par Elaboration) (text _!Mr Howard described Lord Butler 's intervention as \\\\\\\" very important \\\\\\\" ._!) ))( Satellite (span 37 39) (rel2par Elaboration)( Nucleus (leaf 37) (rel2par span) (text _!\\\\\\\"_!) )( Satellite (span 38 39) (rel2par Elaboration)( Nucleus (leaf 38) (rel2par span) (text _!This is from someone_!) )( Satellite (leaf 39) (rel2par Elaboration) (text _!who was an insider at the very heart of the Blair government ._!) ))))( Satellite (span 40 42) (rel2par Elaboration)( Nucleus (leaf 40) (rel2par Same-Unit) (text _!\\\\\\\"_!) )( Nucleus (span 41 42) (rel2par Same-Unit)( Satellite (leaf 41) (rel2par Background) (text _!It is certainly the most damaging testimony_!) )( Nucleus (leaf 42) (rel2par span) (text _!I can ever remember from someone in such an eminent position . \\\\\\\"_!) ))))))( Satellite (span 43 102) (rel2par Elaboration)( Nucleus (span 43 87) (rel2par span)( Nucleus (span 43 45) (rel2par span)( Satellite (leaf 43) (rel2par Attribution) (text _!Lord Butler 's report earlier this year into Iraq intelligence said_!) )( Nucleus (span 44 45) (rel2par span)( Nucleus (leaf 44) (rel2par span) (text _!the government 's September 2002 weapons dossier did not make clear intelligence about claims_!) )( Satellite (leaf 45) (rel2par Elaboration) (text _!that Saddam Hussein had stockpiles of chemical and biological weapons was \\\\\\\" very thin \\\\\\\" ._!) )))( Satellite (span 46 87) (rel2par Elaboration)( Nucleus (span 46 78) (rel2par span)( Nucleus (span 46 60) (rel2par span)( Nucleus (span 46 48) (rel2par span)( Satellite (leaf 46) (rel2par Background) (text _!The reason for this is that it would have weakened ministers ' case for war ,_!) )( Nucleus (span 47 48) (rel2par span)( Nucleus (leaf 47) (rel2par span) (text _!Lord Butler said in his Spectator interview ,_!) )( Satellite (leaf 48) (rel2par Elaboration) (text _!which was conducted by the magazine 's editor , Conservative MP Boris Johnson ._!) )))( Satellite (span 49 60) (rel2par Elaboration)( Nucleus (span 49 56) (rel2par span)( Nucleus (leaf 49) (rel2par span) (text _!He said : \\\\\\\"_!) )( Satellite (span 50 56) (rel2par Background)( Nucleus (leaf 50) (rel2par span) (text _!When civil servants give material to ministers ,_!) )( Satellite (span 51 56) (rel2par Elaboration)( Satellite (leaf 51) (rel2par Attribution) (text _!they say_!) )( Nucleus (span 52 56) (rel2par span)( Nucleus (span 52 53) (rel2par Joint)( Nucleus (leaf 52) (rel2par span) (text _!these are the conclusions_!) )( Satellite (leaf 53) (rel2par Elaboration) (text _!we 've drawn ,_!) ))( Nucleus (span 54 56) (rel2par Joint)( Satellite (leaf 54) (rel2par Background) (text _!but we 've got to tell you_!) )( Nucleus (span 55 56) (rel2par span)( Nucleus (leaf 55) (rel2par span) (text _!the evidence_!) )( Satellite (leaf 56) (rel2par Elaboration) (text _!we 've got is pretty thin ._!) )))))))( Satellite (span 57 60) (rel2par Elaboration)( Nucleus (span 57 58) (rel2par Same-Unit)( Nucleus (leaf 57) (rel2par span) (text _!\\\\\\\"_!) )( Satellite (leaf 58) (rel2par Elaboration) (text _!Similarly ,_!) ))( Nucleus (span 59 60) (rel2par Same-Unit)( Satellite (leaf 59) (rel2par Cause) (text _!if you are giving something to the United Nations_!) )( Nucleus (leaf 60) (rel2par span) (text _!and the country you should warn them . \\\\\\\"_!) )))))( Satellite (span 61 78) (rel2par Elaboration)( Nucleus (span 61 65) (rel2par span)( Nucleus (span 61 63) (rel2par span)( Nucleus (leaf 61) (rel2par Same-Unit) (text _!Asked_!) )( Nucleus (span 62 63) (rel2par Same-Unit)( Satellite (leaf 62) (rel2par Attribution) (text _!why he thought_!) )( Nucleus (leaf 63) (rel2par span) (text _!the warnings were not there Lord Butler said : \\\\\\\"_!) )))( Satellite (span 64 65) (rel2par Cause)( Satellite (leaf 64) (rel2par Attribution) (text _!One has got to remember_!) )( Nucleus (leaf 65) (rel2par span) (text _!what the purpose of the dossier was ._!) )))( Satellite (span 66 78) (rel2par Elaboration)( Nucleus (span 66 68) (rel2par span)( Nucleus (leaf 66) (rel2par span) (text _!The purpose of the dossier was to persuade the British_!) )( Satellite (span 67 68) (rel2par Background)( Satellite (leaf 67) (rel2par Attribution) (text _!why the government thought_!) )( Nucleus (leaf 68) (rel2par span) (text _!Iraq was a very serious threat . \\\\\\\"_!) )))( Satellite (span 69 78) (rel2par Elaboration)( Nucleus (span 69 76) (rel2par span)( Satellite (leaf 69) (rel2par Attribution) (text _!When asked_!) )( Nucleus (span 70 76) (rel2par span)( Nucleus (span 70 72) (rel2par span)( Nucleus (span 70 71) (rel2par Same-Unit)( Satellite (leaf 70) (rel2par Attribution) (text _!whether he thought_!) )( Nucleus (leaf 71) (rel2par span) (text _!the country was well-governed on the whole ,_!) ))( Nucleus (leaf 72) (rel2par Same-Unit) (text _!he replied : \\\\\\\"_!) ))( Satellite (span 73 76) (rel2par Elaboration)( Satellite (leaf 73) (rel2par Attribution) (text _!Well. I think_!) )( Nucleus (span 74 76) (rel2par span)( Nucleus (leaf 74) (rel2par span) (text _!we are a country_!) )( Satellite (span 75 76) (rel2par Elaboration)( Nucleus (leaf 75) (rel2par Joint) (text _!where we suffer very badly from Parliament not having sufficient control over the executive ,_!) )( Nucleus (leaf 76) (rel2par Joint) (text _!and that is a very grave flaw ._!) ))))))( Satellite (span 77 78) (rel2par Elaboration)( Satellite (leaf 77) (rel2par Background) (text _!\\\\\\\"_!) )( Nucleus (leaf 78) (rel2par span) (text _!We should be breaking away from the party whip ._!) ))))))( Satellite (span 79 87) (rel2par Elaboration)( Nucleus (span 79 83) (rel2par span)( Nucleus (leaf 79) (rel2par Joint) (text _!The executive is much too free to bring in a huge number of extremely bad Bills , a huge amount of regulation_!) )( Nucleus (span 80 83) (rel2par Joint)( Nucleus (span 80 81) (rel2par Same-Unit)( Nucleus (leaf 80) (rel2par span) (text _!and to do whatever_!) )( Satellite (leaf 81) (rel2par Attribution) (text _!it likes_!) ))( Nucleus (span 82 83) (rel2par Same-Unit)( Nucleus (leaf 82) (rel2par span) (text _!- and whatever it likes_!) )( Satellite (leaf 83) (rel2par Elaboration) (text _!is what will get the best headlines tomorrow ._!) ))))( Satellite (span 84 87) (rel2par Elaboration)( Nucleus (span 84 86) (rel2par span)( Nucleus (leaf 84) (rel2par span) (text _!\\\\\\\"_!) )( Satellite (span 85 86) (rel2par Elaboration)( Nucleus (leaf 85) (rel2par span) (text _!All_!) )( Satellite (leaf 86) (rel2par Elaboration) (text _!that is part of what is bad government in this country . \\\\\\\"_!) )))( Satellite (leaf 87) (rel2par Elaboration) (text _!Lord Butler 's assessment was backed by his predecessor as Cabinet Secretary , Lord Armstrong ._!) )))))( Satellite (span 88 102) (rel2par Elaboration)( Nucleus (span 88 100) (rel2par span)( Satellite (span 88 98) (rel2par Contrast)( Nucleus (span 88 94) (rel2par span)( Nucleus (span 88 89) (rel2par Joint)( Nucleus (leaf 88) (rel2par span) (text _!Lord Armstrong told BBC Two 's Newsnight : \\\\\\\"_!) )( Satellite (leaf 89) (rel2par Elaboration) (text _!I agree ..._!) ))( Nucleus (span 90 94) (rel2par Joint)( Satellite (span 90 91) (rel2par Cause)( Nucleus (leaf 90) (rel2par span) (text _!there does n't appear to be the sort of informed collective political judgement_!) )( Satellite (leaf 91) (rel2par Elaboration) (text _!brought to bear on decision-making_!) ))( Nucleus (span 92 94) (rel2par span)( Nucleus (span 92 93) (rel2par Same-Unit)( Nucleus (leaf 92) (rel2par span) (text _!that those_!) )( Satellite (leaf 93) (rel2par Elaboration) (text _!affected by decisions_!) ))( Nucleus (leaf 94) (rel2par Same-Unit) (text _!are entitled to expect . \\\\\\\"_!) ))))( Satellite (span 95 98) (rel2par Elaboration)( Satellite (leaf 95) (rel2par Attribution) (text _!Liberal Democrat deputy leader Menzies Campbell said_!) )( Nucleus (span 96 98) (rel2par span)( Satellite (leaf 96) (rel2par Attribution) (text _!he thought_!) )( Nucleus (span 97 98) (rel2par span)( Nucleus (leaf 97) (rel2par span) (text _!Lord Butler 's comments were \\\\\\\" well justified \\\\\\\"_!) )( Satellite (leaf 98) (rel2par Cause) (text _!and Mr Blair 's style of leadership was \\\\\\\" corrosive of the whole system of government \\\\\\\" ._!) )))))( Nucleus (span 99 100) (rel2par span)( Nucleus (leaf 99) (rel2par span) (text _!But Labour former minister Jack Cunningham accused Lord Butler of basing his comments on the first eight months of the incoming Labour administration ,_!) )( Satellite (leaf 100) (rel2par Elaboration) (text _!when he was cabinet secretary ._!) )))( Satellite (span 101 102) (rel2par Elaboration)( Nucleus (leaf 101) (rel2par Joint) (text _!Mr Cunningham told BBC Radio 4's Today programme : \\\\\\\" Taken together ,_!) )( Nucleus (leaf 102) (rel2par Joint) (text _!Robin Butler 's comments are partial , inaccurate and cannot be taken as anything other than politically biased against the Labour government . \\\\\\\"_!) )))))\";\nvar test_string4 = \"( Root (span 1 80)( Nucleus (span 1 3) (rel2par span)( Nucleus (span 1 2) (rel2par Same-Unit)( Nucleus (leaf 1) (rel2par span) (text _!A network of community computer centres ,_!) )( Satellite (leaf 2) (rel2par Elaboration) (text _!linked by wireless technology ,_!) ))( Nucleus (leaf 3) (rel2par Same-Unit) (text _!is providing a helping hand for poor farmers in Peru ._!) ))( Satellite (span 4 80) (rel2par Summary)( Nucleus (leaf 4) (rel2par span) (text _!The pilot scheme in the Huaral Valley , 80 kilometres north of the capital Lima , aims to offer the 6,000-strong community up-to-date information on agricultural market prices and trends ._!) )( Satellite (span 5 80) (rel2par Background)( Nucleus (span 5 7) (rel2par span)( Nucleus (span 5 6) (rel2par Joint)( Nucleus (leaf 5) (rel2par span) (text _!The Agricultural Information Project for Farmers of the Chancay-Huaral Valley also provides vital links between local organisations in charge of water irrigation ,_!) )( Satellite (leaf 6) (rel2par Cause) (text _!enabling them to coordinate their actions ._!) ))( Nucleus (leaf 7) (rel2par Joint) (text _!More than 13,000 rural inhabitants , as well as 18,000 students in the region , will also benefit from the telecoms infrastructure ._!) ))( Satellite (span 8 80) (rel2par Summary)( Nucleus (span 8 24) (rel2par span)( Nucleus (span 8 19) (rel2par span)( Nucleus (span 8 17) (rel2par span)( Nucleus (span 8 14) (rel2par span)( Nucleus (leaf 8) (rel2par span) (text _!The 14 telecentres uses only free open source software and affordable computer equipment ._!) )( Satellite (span 9 14) (rel2par Elaboration)( Nucleus (span 9 10) (rel2par span)( Nucleus (leaf 9) (rel2par Joint) (text _!The network has been three years in the making_!) )( Nucleus (leaf 10) (rel2par Joint) (text _!and was officially inaugurated in September ._!) ))( Satellite (span 11 14) (rel2par Elaboration)( Nucleus (span 11 12) (rel2par Same-Unit)( Nucleus (leaf 11) (rel2par span) (text _!The non-government organisation , Cepes_!) )( Satellite (leaf 12) (rel2par Elaboration) (text _!( Peruvian Centre for Social Studies )_!) ))( Nucleus (span 13 14) (rel2par Same-Unit)( Nucleus (leaf 13) (rel2par span) (text _!led the $200,000 project ,_!) )( Satellite (leaf 14) (rel2par Elaboration) (text _!also backed by local institutions , the Education and Agriculture ministries , and European development organisations ._!) )))))( Satellite (span 15 17) (rel2par Elaboration)( Nucleus (span 15 16) (rel2par span)( Nucleus (leaf 15) (rel2par span) (text _!\\\\\\\"_!) )( Satellite (leaf 16) (rel2par Elaboration) (text _!The plan includes training on computers and internet skills for both operators and users of the system , \\\\\\\"_!) ))( Satellite (leaf 17) (rel2par Attribution) (text _!said Carlos Saldarriaga , technical coordinator at Cepes ._!) )))( Satellite (span 18 19) (rel2par Elaboration)( Nucleus (leaf 18) (rel2par span) (text _!Farmers are also taking extra lessons on how to apply the new information_!) )( Satellite (leaf 19) (rel2par Enablement) (text _!to make the most of their plots of land ._!) )))( Satellite (span 20 24) (rel2par Elaboration)( Nucleus (span 20 22) (rel2par span)( Nucleus (span 20 21) (rel2par Same-Unit)( Nucleus (leaf 20) (rel2par span) (text _!The Board of Irrigation Users_!) )( Satellite (leaf 21) (rel2par Elaboration) (text _!which runs the computer centres ,_!) ))( Nucleus (leaf 22) (rel2par Same-Unit) (text _!aims to make the network self-sustainable within three years ,_!) ))( Satellite (span 23 24) (rel2par Cause)( Nucleus (leaf 23) (rel2par span) (text _!through the cash_!) )( Satellite (leaf 24) (rel2par Elaboration) (text _!generated by using the telecentres as internet cafes ._!) ))))( Satellite (span 25 80) (rel2par Elaboration)( Nucleus (span 25 79) (rel2par span)( Nucleus (span 25 75) (rel2par span)( Nucleus (span 25 64) (rel2par span)( Nucleus (span 25 26) (rel2par span)( Nucleus (leaf 25) (rel2par span) (text _!One of the key elements of the project is the Agricultural Information System ,_!) )( Satellite (leaf 26) (rel2par Elaboration) (text _!with its flagship huaral.org website ._!) ))( Satellite (span 27 64) (rel2par Elaboration)( Nucleus (span 27 28) (rel2par span)( Nucleus (leaf 27) (rel2par span) (text _!There , farmers can find the prices for local produce , as well as information on topics_!) )( Satellite (leaf 28) (rel2par Elaboration) (text _!ranging from plague prevention to the latest farming techniques ._!) ))( Satellite (span 29 64) (rel2par Elaboration)( Nucleus (span 29 61) (rel2par span)( Nucleus (span 29 54) (rel2par span)( Nucleus (span 29 32) (rel2par span)( Nucleus (leaf 29) (rel2par span) (text _!The system also helps the inhabitants of the Chancay-Huaral Valley to organise their vital irrigation systems ._!) )( Satellite (span 30 32) (rel2par Elaboration)( Nucleus (leaf 30) (rel2par Same-Unit) (text _!\\\\\\\"_!) )( Nucleus (span 31 32) (rel2par Same-Unit)( Nucleus (leaf 31) (rel2par span) (text _!Water is the main element_!) )( Satellite (leaf 32) (rel2par Elaboration) (text _!that unites them all ._!) ))))( Satellite (span 33 54) (rel2par Elaboration)( Nucleus (span 33 37) (rel2par span)( Nucleus (leaf 33) (rel2par span) (text _!It is a precious element in Peru 's coastal areas ,_!) )( Satellite (span 34 37) (rel2par Explanation)( Nucleus (leaf 34) (rel2par Joint) (text _!because it is so scarce ,_!) )( Nucleus (span 35 37) (rel2par Joint)( Nucleus (span 35 36) (rel2par Same-Unit)( Nucleus (leaf 35) (rel2par span) (text _!and therefore it is necessary to have proper irrigation systems_!) )( Satellite (leaf 36) (rel2par Enablement) (text _!to make the most of it , \\\\\\\"_!) ))( Nucleus (leaf 37) (rel2par Same-Unit) (text _!Mr Saldarriaga told the BBC News website ._!) ))))( Satellite (span 38 54) (rel2par Elaboration)( Nucleus (span 38 39) (rel2par span)( Nucleus (leaf 38) (rel2par Joint) (text _!The information network also allows farmers to look beyond their own region ,_!) )( Nucleus (leaf 39) (rel2par Joint) (text _!and share experiences with other colleagues from the rest of Peru and even around the world ._!) ))( Satellite (span 40 54) (rel2par Explanation)( Satellite (span 40 51) (rel2par Contrast)( Nucleus (leaf 40) (rel2par span) (text _!Cepes says the involvement of the farmers has been key in the project 's success ._!) )( Satellite (span 41 51) (rel2par Elaboration)( Nucleus (span 41 46) (rel2par span)( Nucleus (span 41 45) (rel2par span)( Nucleus (span 41 42) (rel2par Same-Unit)( Nucleus (leaf 41) (rel2par span) (text _!\\\\\\\"_!) )( Satellite (leaf 42) (rel2par Cause) (text _!Throughout the last three years ,_!) ))( Nucleus (span 43 45) (rel2par Same-Unit)( Nucleus (leaf 43) (rel2par span) (text _!the people have provided a vital thrust to the project ;_!) )( Satellite (span 44 45) (rel2par Elaboration)( Satellite (leaf 44) (rel2par Attribution) (text _!they feel_!) )( Nucleus (leaf 45) (rel2par span) (text _!it belongs to them , \\\\\\\"_!) ))))( Satellite (leaf 46) (rel2par Attribution) (text _!said Mr Saldarriaga ._!) ))( Satellite (span 47 51) (rel2par Elaboration)( Nucleus (span 47 49) (rel2par span)( Nucleus (span 47 48) (rel2par Same-Unit)( Nucleus (leaf 47) (rel2par span) (text _!The community training sessions ,_!) )( Satellite (leaf 48) (rel2par Elaboration) (text _!attended by an equal number of men and women ,_!) ))( Nucleus (leaf 49) (rel2par Same-Unit) (text _!have been the perfect showcase for their enthusiasm ._!) ))( Satellite (span 50 51) (rel2par Explanation)( Satellite (leaf 50) (rel2par Attribution) (text _!\\\\\\\"_!) )( Nucleus (leaf 51) (rel2par span) (text _!We have had an excellent response , mainly from young people ._!) )))))( Nucleus (span 52 54) (rel2par span)( Nucleus (leaf 52) (rel2par span) (text _!But we have also had a great feedback_!) )( Satellite (span 53 54) (rel2par Background)( Nucleus (leaf 53) (rel2par span) (text _!when we trained 40 or 50-year old women ,_!) )( Satellite (leaf 54) (rel2par Elaboration) (text _!who were seeing a computer for the first time in their lives . \\\\\\\"_!) )))))))( Satellite (span 55 61) (rel2par Elaboration)( Nucleus (span 55 57) (rel2par span)( Satellite (leaf 55) (rel2par Attribution) (text _!So far , the Huaral programme promoters say_!) )( Nucleus (span 56 57) (rel2par span)( Nucleus (leaf 56) (rel2par Joint) (text _!the experience has been very positive ,_!) )( Nucleus (leaf 57) (rel2par Joint) (text _!and are already planning on spreading the model among other farmers ' organisations in Peru ._!) )))( Satellite (span 58 61) (rel2par Elaboration)( Nucleus (span 58 60) (rel2par Same-Unit)( Nucleus (leaf 58) (rel2par span) (text _!\\\\\\\"_!) )( Satellite (span 59 60) (rel2par Elaboration)( Nucleus (leaf 59) (rel2par Joint) (text _!This is a pilot project ,_!) )( Nucleus (leaf 60) (rel2par Joint) (text _!and we have been very keen on its cloning potential in other places , \\\\\\\"_!) )))( Nucleus (leaf 61) (rel2par Same-Unit) (text _!underlined Mr Saldarriaga ._!) ))))( Satellite (span 62 64) (rel2par Elaboration)( Nucleus (span 62 63) (rel2par Same-Unit)( Satellite (leaf 62) (rel2par Attribution) (text _!The Cepes researcher recalls_!) )( Nucleus (leaf 63) (rel2par span) (text _!what happened in Cuyo , a 50-family community with no electricity ,_!) ))( Nucleus (leaf 64) (rel2par Same-Unit) (text _!during the construction of the local telecentre site ._!) )))))( Satellite (span 65 75) (rel2par Elaboration)( Nucleus (span 65 67) (rel2par span)( Nucleus (leaf 65) (rel2par span) (text _!There it was necessary_!) )( Satellite (span 66 67) (rel2par Enablement)( Nucleus (leaf 66) (rel2par span) (text _!to build a mini-hydraulic dam_!) )( Satellite (leaf 67) (rel2par Enablement) (text _!in order to generate 2kW worth of power for the computers , the communications equipment and the cabin lights ._!) )))( Satellite (span 68 75) (rel2par Elaboration)( Satellite (leaf 68) (rel2par Background) (text _!\\\\\\\"_!) )( Nucleus (span 69 75) (rel2par span)( Nucleus (leaf 69) (rel2par span) (text _!It was already dark_!) )( Satellite (span 70 75) (rel2par Cause)( Satellite (leaf 70) (rel2par Attribution) (text _!when the technicians realised_!) )( Nucleus (span 71 75) (rel2par span)( Nucleus (span 71 72) (rel2par Same-Unit)( Nucleus (leaf 71) (rel2par span) (text _!they did n't have any light bulbs_!) )( Satellite (leaf 72) (rel2par Enablement) (text _!to test the generator ,_!) ))( Nucleus (span 73 75) (rel2par Same-Unit)( Nucleus (span 73 74) (rel2par Same-Unit)( Nucleus (leaf 73) (rel2par span) (text _!so they turned up to the local store_!) )( Satellite (leaf 74) (rel2par Enablement) (text _!to buy light bulbs , \\\\\\\"_!) ))( Nucleus (leaf 75) (rel2par Same-Unit) (text _!recalls Carlos Saldarriaga ._!) ))))))))( Satellite (span 76 79) (rel2par Elaboration)( Nucleus (leaf 76) (rel2par Same-Unit) (text _!\\\\\\\"_!) )( Nucleus (span 77 79) (rel2par Same-Unit)( Nucleus (leaf 77) (rel2par Contrast) (text _!The logical answer was 'we do n't sell any' ,_!) )( Nucleus (span 78 79) (rel2par Contrast)( Nucleus (leaf 78) (rel2par span) (text _!so they had to wait until the next morning_!) )( Satellite (leaf 79) (rel2par Enablement) (text _!to do the testing . \\\\\\\"_!) )))))( Satellite (leaf 80) (rel2par Elaboration) (text _!Now , with the wireless network , Cuyo as well as the other communities is no longer isolated ._!) ))))))\";\n\n// 5 is pretty ugly\nvar test_string5 =\"( Root (span 1 99)( Nucleus (span 1 2) (rel2par span)( Nucleus (leaf 1) (rel2par span) (text _!The global web blog community is being called into action_!) )( Satellite (leaf 2) (rel2par Enablement) (text _!to lend support to two imprisoned Iranian bloggers ._!) ))( Satellite (span 3 99) (rel2par Summary)( Nucleus (span 3 12) (rel2par span)( Nucleus (span 3 5) (rel2par span)( Nucleus (leaf 3) (rel2par Same-Unit) (text _!The month-old Committee_!) )( Nucleus (span 4 5) (rel2par Same-Unit)( Nucleus (leaf 4) (rel2par span) (text _!to Protect Bloggers ' is asking those with blogs_!) )( Satellite (leaf 5) (rel2par Enablement) (text _!to dedicate their sites on 22 February to the Free Mojtaba and Arash Day ._!) )))( Satellite (span 6 12) (rel2par Elaboration)( Nucleus (span 6 8) (rel2par span)( Nucleus (leaf 6) (rel2par span) (text _!Arash Sigarchi and Mojtaba Saminejad are both in prison in Iran ._!) )( Satellite (span 7 8) (rel2par Elaboration)( Nucleus (leaf 7) (rel2par span) (text _!Blogs are free sites_!) )( Satellite (leaf 8) (rel2par Elaboration) (text _!through which people publish thoughts and opinions ._!) )))( Satellite (span 9 12) (rel2par Elaboration)( Nucleus (leaf 9) (rel2par span) (text _!Iranian authorities have been clamping down on prominent sites for some time ._!) )( Satellite (span 10 12) (rel2par Explanation)( Nucleus (span 10 11) (rel2par Same-Unit)( Satellite (leaf 10) (rel2par Attribution) (text _!I hope_!) )( Nucleus (leaf 11) (rel2par span) (text _!this day will focus people ,_!) ))( Nucleus (leaf 12) (rel2par Same-Unit) (text _!Curt Hopkins , director of the Committee , told the BBC News website ._!) )))))( Satellite (span 13 99) (rel2par Elaboration)( Nucleus (span 13 17) (rel2par span)( Satellite (span 13 15) (rel2par Attribution)( Nucleus (leaf 13) (rel2par span) (text _!The group has a list of actions_!) )( Satellite (span 14 15) (rel2par Elaboration)( Nucleus (leaf 14) (rel2par span) (text _!which_!) )( Satellite (leaf 15) (rel2par Attribution) (text _!it says_!) )))( Nucleus (span 16 17) (rel2par span)( Nucleus (leaf 16) (rel2par span) (text _!bloggers can take ,_!) )( Satellite (leaf 17) (rel2par Elaboration) (text _!including writing to local Iranian embassies ._!) )))( Satellite (span 18 99) (rel2par Elaboration)( Nucleus (span 18 43) (rel2par span)( Nucleus (span 18 40) (rel2par span)( Nucleus (span 18 21) (rel2par span)( Nucleus (leaf 18) (rel2par span) (text _!The Committee has deemed Tuesday Free Mojtaba and Arash Day as part of its first campaign ._!) )( Satellite (span 19 21) (rel2par Elaboration)( Nucleus (span 19 20) (rel2par Same-Unit)( Nucleus (leaf 19) (rel2par span) (text _!It is calling on the blogsphere_!) )( Satellite (leaf 20) (rel2par Elaboration) (text _!- the name for the worldwide community of bloggers -_!) ))( Nucleus (leaf 21) (rel2par Same-Unit) (text _!to do what it can to help raise awareness of the plight of Mojtaba and Arash as well as other cyber-dissidents ._!) )))( Satellite (span 22 40) (rel2par Elaboration)( Nucleus (span 22 23) (rel2par span)( Nucleus (leaf 22) (rel2par span) (text _!If you have a blog , the least you could do is put nothing on that blog except Free Mojtaba and Arash Day' ,_!) )( Satellite (leaf 23) (rel2par Attribution) (text _!said Mr Hopkins ._!) ))( Satellite (span 24 40) (rel2par Explanation)( Nucleus (span 24 25) (rel2par span)( Satellite (leaf 24) (rel2par Attribution) (text _!That would mean_!) )( Nucleus (leaf 25) (rel2par span) (text _!you could see that phrase 7.1 million times ._!) ))( Satellite (span 26 40) (rel2par Explanation)( Nucleus (span 26 33) (rel2par span)( Nucleus (span 26 30) (rel2par span)( Nucleus (leaf 26) (rel2par span) (text _!That alone will shine some light on the situation ._!) )( Satellite (span 27 30) (rel2par Elaboration)( Satellite (span 27 29) (rel2par Condition)( Satellite (leaf 27) (rel2par Condition) (text _!If you do n't have one ,_!) )( Nucleus (span 28 29) (rel2par span)( Nucleus (leaf 28) (rel2par span) (text _!find one_!) )( Satellite (leaf 29) (rel2par Elaboration) (text _!dedicated to that -_!) )))( Nucleus (leaf 30) (rel2par span) (text _!it takes about 30 seconds ._!) )))( Satellite (span 31 33) (rel2par Elaboration)( Nucleus (leaf 31) (rel2par Joint) (text _!Technorati , a blog search engine , tracks about six million blogs_!) )( Nucleus (span 32 33) (rel2par Joint)( Satellite (leaf 32) (rel2par Attribution) (text _!and says_!) )( Nucleus (leaf 33) (rel2par span) (text _!that more than 12,000 are added daily ._!) ))))( Satellite (span 34 40) (rel2par Explanation)( Nucleus (span 34 35) (rel2par span)( Nucleus (leaf 34) (rel2par span) (text _!A blog is created every 5.8 seconds ,_!) )( Satellite (leaf 35) (rel2par Attribution) (text _!according to a US research think-tank ._!) ))( Satellite (span 36 40) (rel2par Explanation)( Nucleus (span 36 38) (rel2par span)( Nucleus (leaf 36) (rel2par Same-Unit) (text _!The Committee_!) )( Nucleus (span 37 38) (rel2par Same-Unit)( Nucleus (leaf 37) (rel2par Joint) (text _!to Protect Bloggers was started by US blogger Curt Hopkins_!) )( Nucleus (leaf 38) (rel2par Joint) (text _!and counts fired flight attendant blogger Ellen Simonetti as a deputy director ._!) )))( Satellite (span 39 40) (rel2par Background)( Nucleus (leaf 39) (rel2par span) (text _!She has since started the International Bloggers ' Bill of Rights , a global petition_!) )( Satellite (leaf 40) (rel2par Elaboration) (text _!to protect bloggers at work ._!) ))))))))( Satellite (span 41 43) (rel2par Elaboration)( Satellite (span 41 42) (rel2par Contrast)( Nucleus (leaf 41) (rel2par span) (text _!Although not the only website_!) )( Satellite (leaf 42) (rel2par Elaboration) (text _!committed to human rights issues by any means ,_!) ))( Nucleus (leaf 43) (rel2par span) (text _!it aims to be the hub or organisation , information and support for bloggers in particular and their rights to freedom of speech ._!) )))( Satellite (span 44 99) (rel2par Elaboration)( Nucleus (span 44 53) (rel2par span)( Nucleus (span 44 50) (rel2par span)( Nucleus (span 44 46) (rel2par span)( Nucleus (span 44 45) (rel2par span)( Nucleus (leaf 44) (rel2par Joint) (text _!The Committee , although only a month old , aims to be the focal point for blogger action on similar issues in the future ,_!) )( Nucleus (leaf 45) (rel2par Joint) (text _!and will operate as a non-for-profit organisation ._!) ))( Satellite (leaf 46) (rel2par Elaboration) (text _!Blogging is in this weird no man 's land ._!) ))( Satellite (span 47 50) (rel2par Elaboration)( Nucleus (span 47 49) (rel2par span)( Nucleus (leaf 47) (rel2par span) (text _!People think of it_!) )( Satellite (span 48 49) (rel2par Background)( Nucleus (leaf 48) (rel2par Contrast) (text _!as being one thing_!) )( Nucleus (leaf 49) (rel2par Contrast) (text _!or another depending on their point of view ,_!) )))( Satellite (leaf 50) (rel2par Attribution) (text _!said Mr Hopkins ._!) )))( Satellite (span 51 53) (rel2par Elaboration)( Nucleus (leaf 51) (rel2par Joint) (text _!Some think of themselves as pundits , kind of like journalists ,_!) )( Nucleus (span 52 53) (rel2par Joint)( Nucleus (leaf 52) (rel2par span) (text _!and some like me have a private blog_!) )( Satellite (leaf 53) (rel2par Elaboration) (text _!which is just a publishing platform ._!) ))))( Satellite (span 54 99) (rel2par Elaboration)( Nucleus (span 54 55) (rel2par span)( Nucleus (leaf 54) (rel2par Joint) (text _!But they do not have a constituency_!) )( Nucleus (leaf 55) (rel2par Joint) (text _!and are out there in the cold ._!) ))( Satellite (span 56 99) (rel2par Explanation)( Nucleus (span 56 75) (rel2par span)( Nucleus (span 56 65) (rel2par span)( Nucleus (span 56 60) (rel2par span)( Nucleus (leaf 56) (rel2par span) (text _!It is not just human rights issues in countries_!) )( Satellite (span 57 60) (rel2par Elaboration)( Nucleus (leaf 57) (rel2par span) (text _!which have a track record_!) )( Satellite (span 58 60) (rel2par Elaboration)( Satellite (leaf 58) (rel2par Attribution) (text _!of restricting_!) )( Nucleus (span 59 60) (rel2par span)( Nucleus (leaf 59) (rel2par span) (text _!what is published in the media_!) )( Satellite (leaf 60) (rel2par Elaboration) (text _!that is of concern to bloggers ._!) )))))( Satellite (span 61 65) (rel2par Elaboration)( Nucleus (span 61 63) (rel2par Same-Unit)( Nucleus (leaf 61) (rel2par span) (text _!The question_!) )( Satellite (span 62 63) (rel2par Elaboration)( Satellite (leaf 62) (rel2par Attribution) (text _!of bloggers and what rights they have to say_!) )( Nucleus (leaf 63) (rel2par span) (text _!what they want on their sites_!) )))( Nucleus (span 64 65) (rel2par Same-Unit)( Nucleus (leaf 64) (rel2par Joint) (text _!is a thorny one_!) )( Nucleus (leaf 65) (rel2par Joint) (text _!and has received much press attention recently ._!) ))))( Satellite (span 66 75) (rel2par Elaboration)( Nucleus (span 66 69) (rel2par span)( Nucleus (span 66 67) (rel2par Joint)( Nucleus (leaf 66) (rel2par span) (text _!High profile cases_!) )( Satellite (leaf 67) (rel2par Elaboration) (text _!in which employees have been sacked for what they have said on their personal ,_!) ))( Nucleus (span 68 69) (rel2par Joint)( Nucleus (leaf 68) (rel2par span) (text _!and often anonymous blogs , have highlighted the muddy situation_!) )( Satellite (leaf 69) (rel2par Elaboration) (text _!that the blogsphere is currently in ._!) )))( Satellite (span 70 75) (rel2par Elaboration)( Nucleus (span 70 71) (rel2par span)( Nucleus (leaf 70) (rel2par span) (text _!This is a big messy argument ,_!) )( Satellite (leaf 71) (rel2par Attribution) (text _!explained Mr Hopkins ._!) ))( Satellite (span 72 75) (rel2par Elaboration)( Satellite (leaf 72) (rel2par Attribution) (text _!He added :_!) )( Nucleus (span 73 75) (rel2par span)( Nucleus (leaf 73) (rel2par span) (text _!It is just such a new way_!) )( Satellite (span 74 75) (rel2par Elaboration)( Nucleus (leaf 74) (rel2par span) (text _!of doing business ,_!) )( Satellite (leaf 75) (rel2par Elaboration) (text _!there will be clamp downs ._!) )))))))( Satellite (span 76 99) (rel2par Elaboration)( Nucleus (span 76 80) (rel2par span)( Nucleus (span 76 79) (rel2par Same-Unit)( Nucleus (span 76 78) (rel2par span)( Nucleus (leaf 76) (rel2par span) (text _!But the way_!) )( Satellite (span 77 78) (rel2par Elaboration)( Nucleus (leaf 77) (rel2par span) (text _!these issues get tested is through the courts_!) )( Satellite (leaf 78) (rel2par Elaboration) (text _!which ,_!) )))( Satellite (leaf 79) (rel2par Attribution) (text _!said Mr Hopkins ,_!) ))( Nucleus (leaf 80) (rel2par Same-Unit) (text _!is part of the whole messy conversation ._!) ))( Satellite (span 81 99) (rel2par Elaboration)( Nucleus (span 81 98) (rel2par span)( Nucleus (span 81 83) (rel2par Joint)( Satellite (leaf 81) (rel2par Condition) (text _!If you have n't already got bloggers in your company ,_!) )( Nucleus (span 82 83) (rel2par span)( Nucleus (leaf 82) (rel2par Joint) (text _!you will have them tomorrow -_!) )( Nucleus (leaf 83) (rel2par Joint) (text _!and if you do n't have a blogger policy now you had better start looking at having one ._!) )))( Nucleus (span 84 98) (rel2par Joint)( Nucleus (span 84 91) (rel2par Joint)( Nucleus (span 84 89) (rel2par span)( Satellite (leaf 84) (rel2par Attribution) (text _!Mr Hopkins said_!) )( Nucleus (span 85 89) (rel2par span)( Nucleus (span 85 87) (rel2par span)( Nucleus (span 85 86) (rel2par Same-Unit)( Nucleus (leaf 85) (rel2par span) (text _!that the blogsphere -_!) )( Satellite (leaf 86) (rel2par Elaboration) (text _!which is doubling every five months -_!) ))( Nucleus (leaf 87) (rel2par Same-Unit) (text _!was powerful_!) ))( Satellite (span 88 89) (rel2par Cause)( Nucleus (leaf 88) (rel2par span) (text _!because it takes so little time and expertise_!) )( Satellite (leaf 89) (rel2par Enablement) (text _!to create a blog ._!) ))))( Satellite (span 90 91) (rel2par Elaboration)( Nucleus (leaf 90) (rel2par span) (text _!Everyone does this - mums , radicals , conservatives ,_!) )( Satellite (leaf 91) (rel2par Attribution) (text _!he said ._!) )))( Nucleus (span 92 98) (rel2par Joint)( Nucleus (span 92 94) (rel2par Joint)( Nucleus (span 92 93) (rel2par Same-Unit)( Nucleus (leaf 92) (rel2par span) (text _!Many companies offer easy-to-use services_!) )( Satellite (leaf 93) (rel2par Enablement) (text _!to create a blog_!) ))( Nucleus (leaf 94) (rel2par Same-Unit) (text _!and publish it in minutes to a global community ._!) ))( Nucleus (span 95 98) (rel2par Joint)( Nucleus (leaf 95) (rel2par Joint) (text _!That is the essential difference ._!) )( Nucleus (span 96 98) (rel2par Joint)( Nucleus (leaf 96) (rel2par Same-Unit) (text _!What I call 'templating software'_!) )( Nucleus (span 97 98) (rel2par Same-Unit)( Nucleus (leaf 97) (rel2par span) (text _!gives every single person on Earth the chance_!) )( Satellite (leaf 98) (rel2par Elaboration) (text _!to have one ._!) )))))))( Satellite (leaf 99) (rel2par Topic-Comment) (text _!You do n't even have to have your own computer ._!) ))))))))))\";\n\n// 6 is just 4 with quotes removed\nvar test_string6 =\"( Root (span 1 73)( Nucleus (span 1 3) (rel2par span)( Nucleus (span 1 2) (rel2par Same-Unit)( Nucleus (leaf 1) (rel2par span) (text _!A network of community computer centres ,_!) )( Satellite (leaf 2) (rel2par Elaboration) (text _!linked by wireless technology ,_!) ))( Nucleus (leaf 3) (rel2par Same-Unit) (text _!is providing a helping hand for poor farmers in Peru ._!) ))( Satellite (span 4 73) (rel2par Summary)( Nucleus (span 4 8) (rel2par span)( Nucleus (leaf 4) (rel2par span) (text _!The pilot scheme in the Huaral Valley , 80 kilometres north of the capital Lima , aims to offer the 6,000-strong community up-to-date information on agricultural market prices and trends ._!) )( Satellite (span 5 8) (rel2par Elaboration)( Nucleus (span 5 7) (rel2par span)( Nucleus (span 5 6) (rel2par Joint)( Nucleus (leaf 5) (rel2par span) (text _!The Agricultural Information Project for Farmers of the Chancay-Huaral Valley also provides vital links between local organisations in charge of water irrigation ,_!) )( Satellite (leaf 6) (rel2par Cause) (text _!enabling them to coordinate their actions ._!) ))( Nucleus (leaf 7) (rel2par Joint) (text _!More than 13,000 rural inhabitants , as well as 18,000 students in the region , will also benefit from the telecoms infrastructure ._!) ))( Satellite (leaf 8) (rel2par Elaboration) (text _!The 14 telecentres uses only free open source software and affordable computer equipment ._!) )))( Satellite (span 9 73) (rel2par Elaboration)( Nucleus (span 9 18) (rel2par span)( Nucleus (span 9 14) (rel2par span)( Nucleus (span 9 10) (rel2par Same-Unit)( Nucleus (leaf 9) (rel2par Joint) (text _!The network has been three years in the making_!) )( Nucleus (leaf 10) (rel2par Joint) (text _!and was officially inaugurated in September. The non-government organisation ,_!) ))( Nucleus (span 11 14) (rel2par Same-Unit)( Nucleus (span 11 12) (rel2par Same-Unit)( Nucleus (leaf 11) (rel2par span) (text _!Cepes_!) )( Satellite (leaf 12) (rel2par Elaboration) (text _!( Peruvian Centre for Social Studies )_!) ))( Nucleus (span 13 14) (rel2par Same-Unit)( Nucleus (leaf 13) (rel2par span) (text _!led the $200,000 project ,_!) )( Satellite (leaf 14) (rel2par Elaboration) (text _!also backed by local institutions , the Education and Agriculture ministries , and European development organisations ._!) ))))( Satellite (span 15 18) (rel2par Elaboration)( Nucleus (span 15 16) (rel2par span)( Nucleus (leaf 15) (rel2par span) (text _!The plan includes training on computers and internet skills for both operators and users of the system ,_!) )( Satellite (leaf 16) (rel2par Attribution) (text _!said Carlos Saldarriaga , technical coordinator at Cepes ._!) ))( Satellite (span 17 18) (rel2par Elaboration)( Nucleus (leaf 17) (rel2par span) (text _!Farmers are also taking extra lessons on how to apply the new information_!) )( Satellite (leaf 18) (rel2par Enablement) (text _!to make the most of their plots of land ._!) ))))( Satellite (span 19 73) (rel2par Elaboration)( Nucleus (span 19 23) (rel2par span)( Nucleus (span 19 21) (rel2par span)( Nucleus (span 19 20) (rel2par Same-Unit)( Nucleus (leaf 19) (rel2par span) (text _!The Board of Irrigation Users_!) )( Satellite (leaf 20) (rel2par Elaboration) (text _!which runs the computer centres ,_!) ))( Nucleus (leaf 21) (rel2par Same-Unit) (text _!aims to make the network self-sustainable within three years ,_!) ))( Satellite (span 22 23) (rel2par Cause)( Nucleus (leaf 22) (rel2par span) (text _!through the cash_!) )( Satellite (leaf 23) (rel2par Elaboration) (text _!generated by using the telecentres as internet cafes ._!) )))( Satellite (span 24 73) (rel2par Elaboration)( Nucleus (span 24 72) (rel2par span)( Nucleus (span 24 69) (rel2par span)( Nucleus (span 24 62) (rel2par span)( Nucleus (span 24 59) (rel2par span)( Nucleus (span 24 25) (rel2par span)( Nucleus (leaf 24) (rel2par span) (text _!One of the key elements of the project is the Agricultural Information System ,_!) )( Satellite (leaf 25) (rel2par Elaboration) (text _!with its flagship huaral.org website ._!) ))( Satellite (span 26 59) (rel2par Elaboration)( Nucleus (span 26 27) (rel2par span)( Nucleus (leaf 26) (rel2par span) (text _!There , farmers can find the prices for local produce , as well as information on topics_!) )( Satellite (leaf 27) (rel2par Elaboration) (text _!ranging from plague prevention to the latest farming techniques ._!) ))( Satellite (span 28 59) (rel2par Elaboration)( Nucleus (span 28 50) (rel2par span)( Nucleus (span 28 30) (rel2par span)( Nucleus (leaf 28) (rel2par span) (text _!The system also helps the inhabitants of the Chancay-Huaral Valley to organise their vital irrigation systems ._!) )( Satellite (span 29 30) (rel2par Elaboration)( Nucleus (leaf 29) (rel2par span) (text _!Water is the main element_!) )( Satellite (leaf 30) (rel2par Elaboration) (text _!that unites them all ._!) )))( Satellite (span 31 50) (rel2par Elaboration)( Nucleus (span 31 35) (rel2par span)( Nucleus (leaf 31) (rel2par span) (text _!It is a precious element in Peru 's coastal areas ,_!) )( Satellite (span 32 35) (rel2par Explanation)( Nucleus (leaf 32) (rel2par Joint) (text _!because it is so scarce ,_!) )( Nucleus (span 33 35) (rel2par Joint)( Nucleus (span 33 34) (rel2par Same-Unit)( Nucleus (leaf 33) (rel2par span) (text _!and therefore it is necessary to have proper irrigation systems_!) )( Satellite (leaf 34) (rel2par Enablement) (text _!to make the most of it ,_!) ))( Nucleus (leaf 35) (rel2par Same-Unit) (text _!Mr Saldarriaga told the BBC News website ._!) ))))( Satellite (span 36 50) (rel2par Elaboration)( Nucleus (span 36 37) (rel2par span)( Nucleus (leaf 36) (rel2par Joint) (text _!The information network also allows farmers to look beyond their own region ,_!) )( Nucleus (leaf 37) (rel2par Joint) (text _!and share experiences with other colleagues from the rest of Peru and even around the world ._!) ))( Satellite (span 38 50) (rel2par Explanation)( Satellite (span 38 47) (rel2par Contrast)( Nucleus (span 38 46) (rel2par span)( Nucleus (span 38 43) (rel2par Joint)( Nucleus (leaf 38) (rel2par span) (text _!Cepes says the involvement of the farmers has been key in the project 's success ._!) )( Satellite (span 39 43) (rel2par Explanation)( Nucleus (span 39 42) (rel2par span)( Satellite (leaf 39) (rel2par Cause) (text _!Throughout the last three years ,_!) )( Nucleus (span 40 42) (rel2par span)( Nucleus (leaf 40) (rel2par span) (text _!the people have provided a vital thrust to the project ;_!) )( Satellite (span 41 42) (rel2par Elaboration)( Satellite (leaf 41) (rel2par Attribution) (text _!they feel_!) )( Nucleus (leaf 42) (rel2par span) (text _!it belongs to them ,_!) ))))( Satellite (leaf 43) (rel2par Attribution) (text _!said Mr Saldarriaga ._!) )))( Nucleus (span 44 46) (rel2par Joint)( Nucleus (span 44 45) (rel2par Same-Unit)( Nucleus (leaf 44) (rel2par span) (text _!The community training sessions ,_!) )( Satellite (leaf 45) (rel2par Elaboration) (text _!attended by an equal number of men and women ,_!) ))( Nucleus (leaf 46) (rel2par Same-Unit) (text _!have been the perfect showcase for their enthusiasm ._!) )))( Satellite (leaf 47) (rel2par Topic-Comment) (text _!We have had an excellent response , mainly from young people ._!) ))( Nucleus (span 48 50) (rel2par span)( Nucleus (leaf 48) (rel2par span) (text _!But we have also had a great feedback_!) )( Satellite (span 49 50) (rel2par Background)( Nucleus (leaf 49) (rel2par span) (text _!when we trained 40 or 50-year old women ,_!) )( Satellite (leaf 50) (rel2par Elaboration) (text _!who were seeing a computer for the first time in their lives ._!) )))))))( Satellite (span 51 59) (rel2par Elaboration)( Nucleus (span 51 53) (rel2par span)( Satellite (leaf 51) (rel2par Attribution) (text _!So far , the Huaral programme promoters say_!) )( Nucleus (span 52 53) (rel2par span)( Nucleus (leaf 52) (rel2par Joint) (text _!the experience has been very positive ,_!) )( Nucleus (leaf 53) (rel2par Joint) (text _!and are already planning on spreading the model among other farmers ' organisations in Peru ._!) )))( Satellite (span 54 59) (rel2par Elaboration)( Nucleus (span 54 56) (rel2par span)( Nucleus (span 54 55) (rel2par Same-Unit)( Nucleus (leaf 54) (rel2par Joint) (text _!This is a pilot project ,_!) )( Nucleus (leaf 55) (rel2par Joint) (text _!and we have been very keen on its cloning potential in other places ,_!) ))( Nucleus (leaf 56) (rel2par Same-Unit) (text _!underlined Mr Saldarriaga ._!) ))( Satellite (span 57 59) (rel2par Elaboration)( Satellite (leaf 57) (rel2par Attribution) (text _!The Cepes researcher recalls_!) )( Nucleus (span 58 59) (rel2par span)( Nucleus (leaf 58) (rel2par span) (text _!what happened in Cuyo , a 50-family community with no electricity ,_!) )( Satellite (leaf 59) (rel2par Cause) (text _!during the construction of the local telecentre site ._!) ))))))))( Satellite (span 60 62) (rel2par Elaboration)( Nucleus (leaf 60) (rel2par span) (text _!There it was necessary_!) )( Satellite (span 61 62) (rel2par Enablement)( Nucleus (leaf 61) (rel2par span) (text _!to build a mini-hydraulic dam_!) )( Satellite (leaf 62) (rel2par Enablement) (text _!in order to generate 2kW worth of power for the computers , the communications equipment and the cabin lights ._!) ))))( Satellite (span 63 69) (rel2par Elaboration)( Nucleus (leaf 63) (rel2par span) (text _!It was already dark_!) )( Satellite (span 64 69) (rel2par Background)( Nucleus (span 64 66) (rel2par Same-Unit)( Satellite (leaf 64) (rel2par Attribution) (text _!when the technicians realised_!) )( Nucleus (span 65 66) (rel2par span)( Nucleus (leaf 65) (rel2par span) (text _!they did n't have any light bulbs_!) )( Satellite (leaf 66) (rel2par Elaboration) (text _!to test the generator ,_!) )))( Nucleus (span 67 69) (rel2par Same-Unit)( Nucleus (span 67 68) (rel2par Same-Unit)( Nucleus (leaf 67) (rel2par span) (text _!so they turned up to the local store_!) )( Satellite (leaf 68) (rel2par Enablement) (text _!to buy light bulbs ,_!) ))( Nucleus (leaf 69) (rel2par Same-Unit) (text _!recalls Carlos Saldarriaga ._!) )))))( Satellite (span 70 72) (rel2par Elaboration)( Nucleus (leaf 70) (rel2par span) (text _!The logical answer was 'we do n't sell any' ,_!) )( Satellite (span 71 72) (rel2par Contrast)( Nucleus (leaf 71) (rel2par span) (text _!so they had to wait until the next morning_!) )( Satellite (leaf 72) (rel2par Enablement) (text _!to do the testing ._!) ))))( Satellite (leaf 73) (rel2par Elaboration) (text _!Now , with the wireless network , Cuyo as well as the other communities is no longer isolated ._!) ))))))\";\n\n\ntest_string = test_string6;\n\n// test_string = test_string.replace(/\\s+(\\W)/g, \"$1\");\n\ntest_string = test_string.split(\"n't\").join(\"not\");\ntest_string = test_string.split(\" 's\").join(\"'s\");\ntest_string = test_string.split(\" 's\").join(\"'s\");\ntest_string = test_string.split(\"( \").join(\"(\");\ntest_string = test_string.split(\" )\").join(\")\");\ntest_string = test_string.split(\" 'v\").join(\"'v\");\n// test_string = test_string.split(\"\\\"\").join(\"\");\n\n\n\n\n\n// Remove quotes if we want\ntest_string.split(\"\\\"\").join(\"\");\n// test_string.split(\"\\\\\\\"\").join(\"\");\n// test_string.split(\"\\'\").join(\"\");\n\n\n// test_string.replaceAll(\"\\\"\", '');\n\n/// =================\n// COPY PASTED TREE PARSE\n// From CODRA demo\n/* This function is activated when (input is entered and) the Create Tree button is clicked:\nit parses the json-format string created into an object which is used to make the tree */\nvar index = 0;\nvar searchterm = \"\";\nvar nucleus_selected = 0;\nvar satellite_selected = 1;\nvar nodenum = -1;\nvar currentjsonstring;\nvar scrollison = 0;\nvar rhetoricParsingOutput=\"\";\n\nfunction help(){\n    alert(\" The width in pixels can be changed by entering a value and clicking Change Width of Tree (px) (a few thousand is a good number). Likewise for the height.f you want to highlight nodes that contain a certain text, or are of a certain relation type, type the text or relation type into the rightmost text area and click the \\\"Search\\\" button.To un-highlight all nodes, clear the search box (i.e. the rightmost text area) and uncheck both checkboxes. By hovering the mouse over nodes in the tree, you can access the text on which they are based. The text will display inside a tooltip. Beside the tree, a summary is shown of the text on which the tree is based. The summary can be set to scroll to the most recently clicked node. \t\tThe summary shows, with a solid border, which node was most recently clicked. Its ancestors, right down to the root, appear with a dotted border.\");\n}\nfunction scrollon()\n{\n    scrollison = 1;\n    document.getElementById(\"scrolloffradio\").checked=false;\n}\n\nfunction scrolloff()\n{\n    scrollison = 0;\n    document.getElementById(\"scrollonradio\").checked=false;\n}\n\n\n// This function is called to start the recursive read function off on the provided input, and feed the json string back to addtext\nfunction make_JSON_string(inputstring)\n{\n    var jsonstringoutput = \"\";\n    var remaining_input = inputstring.trim();\n    nodenum = -1;\n    jsonstringoutput += recursiveread(remaining_input);\n    return jsonstringoutput;\n}\n\n// This function creates a tree-structured json-format string from the output of the rhetorical parser\nfunction recursiveread(inputstring)\n{\n    nodenum += 1;\n    var output = \"\\n{\";\n\n    //Determine the types of the parent\n    var spanloc = inputstring.indexOf(\"span\");\n    var leafloc = inputstring.indexOf(\"leaf\");\n    //This type determines if it's a root or not\n    var type;\n    //This type (type2) determines if it's a span or a leaf\n    var type2;\n    if ((spanloc != -1) && ((spanloc < leafloc) || (leafloc == -1)))\n    {\n        type = inputstring.substring(1, spanloc - 1);\n\n        type = type.trim();\n        type2 = \"span\";\n\n    }\n    else if ((leafloc != -1) && ((spanloc > leafloc) || (spanloc == -1)))\n    {\n        type = inputstring.substring(1, leafloc - 1);\n        type = type.trim();\n        type2 = \"leaf\";\n\n    }\n\n    //Use parent type to determine what to do next\n    if (type == \"Root\")\n    {\n\n        //Add name and 1 bracket of metatext to output\n        var txt = inputstring.substring(inputstring.indexOf(type), inputstring.indexOf(\")\") + 1);\n        output += \"\\n\\\"name\\\" : \\\"\" + nodenum + \"ENDNODENUM\" + txt + \"\\\"\";\n        output += \",\\n\\\"children\\\" : \\n[\";\n\n        //Call recursively on children\n        //Set initial current location to just after root metatext\n        var currentloc = inputstring.indexOf(\")\") + 1;\n        var parentcloseloc = find_closed_bracket(inputstring);\n\n        //Find appropriate initial open location\n        var childopenloc = (inputstring.substring(currentloc, parentcloseloc + 1)).indexOf(\"(\") + currentloc;\n        var done = 0;\n        var count = 0;\n        //TODO: take into account quoted brackets?\n        while (done != 1)\n        {\n\n            //Find and set childcloseloc\n            var childcloseloc = find_closed_bracket(inputstring.substring(childopenloc, parentcloseloc + 1)) + childopenloc;\n            // Recursive call\n            var childjsondata = recursiveread(inputstring.substring(childopenloc, childcloseloc + 1));\n            // console.log(childjsondata);\n            // console.log('child');\n            if (count > 0)\n            {\n                output += \",\";\n            }\n            output += childjsondata;\n\n            //Set new currentloc to the location just after the closed bracket of the current child\n            currentloc = childcloseloc + 1;\n            // Check if there are no more children of the parent\n            if (((inputstring.substring(currentloc, parentcloseloc + 1)).indexOf(\"(\")) == -1)\n            {\n                done = 1;\n            }\n            else\n            {\n                //Set new childopenloc to the location of the next open bracket between the end of the current child's bracket and the end of the root's bracket\n                childopenloc = (inputstring.substring(currentloc, parentcloseloc + 1)).indexOf(\"(\") + currentloc;\n            }\n\n            count++;\n        }\n\n        output += \"\\n]\";\n\n    }\n    else if ((type == \"Satellite\") || (type == \"Nucleus\") || (type == \"DUMMY\"))\n    {\n\n        //Read name and 2 brackets of metatext to output (don't close quotation mark on name field yet - more text is to be added)\n\n        //Decide what to do next on the basis of 2nd level type\n        if (type2 == \"leaf\")\n        {\n            var txt = inputstring.substring(inputstring.indexOf(type), (inputstring.substring(inputstring.indexOf(\")\") + 1, inputstring.length)).indexOf(\")\") + 2 + inputstring.indexOf(\")\"));\n            output += \"\\n\\\"name\\\" : \\\"\" + nodenum + \"ENDNODENUM\" + txt;\n\n            var contained_text_startloc = inputstring.indexOf(\"text _!\") + 7;\n            var contained_text_endloc = (inputstring.substring(contained_text_startloc, inputstring.length)).indexOf(\"_!\") + contained_text_startloc;\n            var contained_text = inputstring.substring(contained_text_startloc, contained_text_endloc);\n            //Close quotation mark on name field\n\n            var text_to_be_added = \" | Text: \" + contained_text + \" \\\"\";\n            output += text_to_be_added;\n            // output += \",\\n\\\"text\\\" : \\\"\" + contained_text.replace(/\\s+(\\W)/g, \"$1\") + \"\\\"\";\n            // output += \",\\n\\\"text\\\" : \\\"\" + contained_text.split(\"\\\"\").join(\"\") + \"\\\"\";\n            output += \",\\n\\\"text\\\" : \\\"\" + contained_text + \"\\\"\";\n\n            output += \",\\n\\\"id\\\" : \" + nodenum ;\n            // output += \",\\n\\\"leafID\\\" : \" + txt ;\n            output += \",\\n\\\"size\\\" : \" + 0 ;\n            output += \",\\n\\\"isLeaf\\\" : \" + 1 ;\n\n        }\n        else if (type2 == \"span\")\n        {\n            //Read name and 2 brackets of metatext to output\n            var txt = inputstring.substring(inputstring.indexOf(type), (inputstring.substring(inputstring.indexOf(\")\") + 1, inputstring.length)).indexOf(\")\") + 2 + inputstring.indexOf(\")\"));\n            output += \"\\n\\\"name\\\" : \\\"\" + nodenum + \"ENDNODENUM\" + txt + \"\\\"\";\n            console.log(\"txt is \" + txt);\n            var cut_text = txt.substring(txt.indexOf(\"span \"),txt.indexOf(\"(rel2\"));\n            cut_text = cut_text.substring(4, cut_text.length-2);\n            var bounds = cut_text.trim().split(\" \");\n            console.log(bounds);\n            var span_len = parseInt(bounds[1]) - parseInt(bounds[0]);\n            console.log(span_len);\n            output += \",\\n\\\"size\\\" : \" + span_len ;\n            output += \",\\n\\\"id\\\" : \" + nodenum ;\n            output += \",\\n\\\"isLeaf\\\" : \" + 0 ;\n            output += \",\\n\\\"children\\\" : \\n[\";\n\n            //Call recursively on children\n            //Set initial current location to just after 2nd bracket of metatext\n            var currentloc = (inputstring.substring(inputstring.indexOf(\")\") + 1, inputstring.length)).indexOf(\")\") + 1 + inputstring.indexOf(\")\");\n\n            var parentcloseloc = find_closed_bracket(inputstring);\n\n            //Find appropriate initial open location\n            var childopenloc = (inputstring.substring(currentloc, parentcloseloc + 1)).indexOf(\"(\") + currentloc;\n            //TODO: take into account quoted brackets?\n            var done = 0;\n            var count = 0;\n            while (done != 1)\n            {\n                //Find and set childcloseloc\n                var childcloseloc = find_closed_bracket(inputstring.substring(childopenloc, parentcloseloc + 1)) + childopenloc;\n\n                // Recursive call\n                var childjsondata = recursiveread(inputstring.substring(childopenloc, childcloseloc + 1));\n                if (count > 0)\n                {\n                    output += \",\";\n                }\n                output += childjsondata;\n\n                //Set new currentloc to the location just after the closed bracket of the current child\n                currentloc = childcloseloc + 1;\n                // Check if there are no more children of the parent\n                if (((inputstring.substring(currentloc, parentcloseloc + 1)).indexOf(\"(\")) == -1)\n                {\n                    done = 1;\n                }\n                else\n                {\n                    //Set new childopenloc to the location of the next open bracket between the end of the current child's bracket and the end of the root's bracket\n                    childopenloc = (inputstring.substring(currentloc, parentcloseloc + 1)).indexOf(\"(\") + currentloc;\n                }\n\n                count++;\n            }\n\n            output += \"\\n]\";\n\n        }\n\n    }\n\n    output += \"\\n}\";\n    return output;\n}\n\n// This function returns the index of the closed-bracket that matches (i.e. closes) the first open-bracket found in the input\n// TODO: make function work with quoted brackets?\nfunction find_closed_bracket(input)\n{\n    // The number of open brackets not closed currently\n    var bracket_count = 0;\n    // The location of the closed bracket of the first open bracket in the input, within the remaining input\n    var location_of_closed = 0;\n    /* The amount of input discarded so far. Also, the value that needs to be added to any value that refers to a\n     position within the remaining input, in order to obtain a position within the total input. */\n    var current_base_index = 0;\n    // The amount of input left to be considered\n    var remaining_input = input;\n    // This var is set to 1 to signal that no closed bracket has been found for the first open bracket in the input\n    var errorboolean = 0;\n    /* This var is set to 1 to signal that the first open bracket in the input has been found;\n     after this, the while loop will search for the matching closed bracket */\n    var first_open_bracket_found = 0;\n\n    while (true)\n    {\n        var nextopen = remaining_input.indexOf(\"(\");\n        var nextclosed = remaining_input.indexOf(\")\");\n        // If the next bracket is an open bracket:\n        if ((nextopen < nextclosed) && (nextopen != -1) && (nextclosed != -1))\n        {\n            first_open_bracket_found = 1;\n            bracket_count++;\n            remaining_input = remaining_input.substring(nextopen + 1, remaining_input.length);\n            current_base_index += nextopen + 1;\n        }\n        // If the next bracket is a closed bracket or there is no open bracket:\n        else if (((nextopen > nextclosed) || (nextopen == -1)) && (nextclosed != -1))\n        {\n            // If we're in the active portion of the search for a closed bracket, because we've found the first open bracket:\n            if (first_open_bracket_found)\n            {\n                bracket_count--;\n                // If we've found the closed bracket that matches the first open bracket in the input:\n                if (bracket_count == 0)\n                {\n                    location_of_closed = nextclosed;\n                    break;\n                }\n                // If we haven't found the result, we keep looking:\n                else\n                {\n                    remaining_input = remaining_input.substring(nextclosed + 1, remaining_input.length);\n                    current_base_index += nextclosed + 1;\n                }\n            }\n            // If we haven't yet found the first open bracket:\n            else\n            {\n                remaining_input = remaining_input.substring(nextclosed + 1, remaining_input.length);\n                current_base_index += nextclosed + 1;\n            }\n\n        }\n        else if (nextclosed == -1)\n        {\n            errorboolean = 1;\n            break;\n        }\n    }\n\n    if (errorboolean == 0)\n        return (location_of_closed + current_base_index);\n    else\n        return \"BADFORMATERROR\";\n}\n//////////////////////////////////////////////////\nvar root;\nfunction make_tree(json) {\n    json.x0 = 800;\n    json.y0 = 0;\n    // update(root = json);\n}\n\n\n// Toggle children on click.\n\n\n\n\n\n////////////////// FOCUS WINDOW CODE //////////////////\n\n\n\nvar new_string = JSON.parse(make_JSON_string(test_string));\n// console.log('heres new string');\n// console.log(make_JSON_string(test_string));\n// console.log(new_string);\nvar string_output = make_JSON_string(test_string);\nexport {string_output}\n\n\n// Reactivate for json debug\n// document.getElementById(\"json\").innerHTML = JSON.stringify(new_string, undefined, 2);\n\n// document.getElementById(\"json\").innerHTML = new_string;\n//\n// function getNodes(object) {\n//     return Object\n//         .entries(object)\n//         .map(([key, value]) => value && typeof value === 'object'\n//             ? { title: key, key, children: getNodes(value) }\n//             : { title: key, key, value }\n//         );\n// }function getNodes(object) {\n//     return Object\n//         .entries(object)\n//         .map(([key, value]) => value && typeof value === 'object'\n//             ? { title: key, key, children: getNodes(value) }\n//             : { title: key, key, value }\n//         );\n// }\n\n// var traverse = require('traverse');\n\nvar node_map = {};\nvar counter = 1;\nvar leaves = {};\nvar leaves_with_id = {};\nvar leaf_counter = 1;\n\nfunction traverse(o) {\n    for (var i in o) {\n        if (!!o[i] && typeof(o[i])==\"object\" ) {\n            if(i != \"children\") {\n                // continue;\n                // console.log(o[i]);\n                node_map[counter] = o[i];\n\n                if(o[i][\"isLeaf\"]) {\n                    leaves[counter] = o[i];\n                    leaves_with_id[leaf_counter] = o[i];\n                    leaf_counter += 1;\n                }\n                counter += 1;\n\n            }\n            // i == children, o is a parent object\n            else {\n                // for (var temp in o[i]) {\n                //     // o[i][temp][\"parent\"] = o;\n                // }\n                // console.log(\"i is \" +i);\n                // console.log(\"o is\");\n                // console.log(o);\n\n                // Store both parents and siblings of each node\n                o[\"children\"][0][\"parent\"] = o[\"id\"];\n                o[\"children\"][0][\"sibling\"] = o[\"children\"][1][\"id\"];\n\n                o[\"children\"][1][\"parent\"] = o[\"id\"];\n                o[\"children\"][1][\"sibling\"] = o[\"children\"][0][\"id\"];\n\n                console.log(\"else case\");\n                console.log(o[\"children\"][0]);\n            }\n\n            // console.log(i, o[i]);\n            // console.log(\"i is \" + i);\n            // console.log(o[i].length);\n            traverse(o[i]);\n        }\n    }\n    return node_map;\n}\nconsole.log('start traverse');\ntraverse(new_string);\n\n// console.log(node_map);\n// console.log(leaves);\n\n// window.leavesTest = leaves;\n// console.log(\"in the app yo\");\n// console.log(leaves);\nexport{node_map};\nexport {leaves};\nexport {leaves_with_id};\n\nvar processed_string = recursiveread(test_string);\n\nexport{processed_string};\n\n// ==== process the files\n\n// identify collapses\n\n","import {leaves} from './treeRead.js';\nimport {leaves_with_id} from \"./treeRead.js\";\nimport {node_map} from './treeRead.js';\nimport {processed_string} from \"./treeRead\";\nimport {string_output} from \"./treeRead\";\n\nconsole.log(\"here da string\");\nconsole.log(processed_string);\n\nvar temp = string_output.indexOf(\"span 9 73\");\nconsole.log(\"update\");\nconsole.log(\"here da substring\");\n// goes 4 digits\nconsole.log(string_output.substring(temp-25, temp-15));\nconsole.log(node_map);\n\n// Adjust grouping size\nvar mean = 5;\nvar smallestSize = 3;\nvar largestSize = 7;\n\nconsole.log(leaves_with_id);\n\n// Span must be elabMin < span < elabSize\nvar elabSize = 10;\nvar elabMin = 0;\n\nvar dummy = \"\";\nvar sibling;\nexport {dummy};\nconsole.log(\"articleGenerate.js is being ran\");\nconsole.log(leaves);\nconsole.log(node_map);\n\n// Extracts a node_map index value from the span indices\n// Inputs: indices of span values (as int)\n// Output: Int (node map index) (returns -1 if the indices are not valid / identifiable in the string)\nfunction getNodeMapIndex(left, right) {\n    var temp = string_output.indexOf(\"span \" + left + \" \" + right);\n\n    if (temp == -1) {\n        return -1;\n    }\n\n    console.log(\"Node map output\");\n    temp = string_output.substring(temp-25, temp-19);\n    // replaces non numeric\n    temp = temp.replace(/[^\\d.-]/g, '');\n\n    // console.log(temp);\n    return parseInt(temp);\n}\n\n// Tests\ngetNodeMapIndex(9, 73);\ngetNodeMapIndex(1, 3);\ngetNodeMapIndex(54, 59);\n\n// Input actual node\n// Return function or siblings function\nfunction getFunction(node) {\n    // Get's node's function\n    try {\n    var tempIndex = node[\"name\"].indexOf(\"rel2par\"); }\n    catch(error) {\n        return \"Elaboration\";\n    }\n    var nodeFunction = node[\"name\"].substring(tempIndex+8,node[\"name\"].length-1);\n\n    if (nodeFunction != \"span\") {\n        return nodeFunction;\n    }\n\n    else {\n        sibling = node_map[node[\"sibling\"]];\n        tempIndex = sibling[\"name\"].indexOf(\"rel2par\");\n        nodeFunction = sibling[\"name\"].substring(tempIndex+8,sibling[\"name\"].length-1);\n        return nodeFunction;\n    }\n    return nodeFunction;\n}\n\n\n/**\n *\n * @param leftIndex\n * @param rightIndex\n * @param meanLength\n * @param minSize: inclusive\n * @param maxSize: inclusive\n */\n\nvar initial_size = 0;\nfunction splitParagraphText(leftIndex, rightIndex, meanLength, minSize, maxSize) {\n    console.log(\"Splitting para text\");\n    var output = [];\n\n\n    // Get parent\n    // var parentNode = node_map[getNodeMapIndex(leftIndex, rightIndex)];\n\n    // If parent is small enough, return\n    initial_size = parseInt(rightIndex) - parseInt(leftIndex);\n    if (initial_size < 0) {initial_size = initial_size * -1;}\n    console.log(\"Here's initial size\");\n    console.log(initial_size);\n    if (initial_size <= maxSize) {\n        var temp_output = {};\n        temp_output[\"leftIndex\"] = leftIndex;\n        temp_output[\"rightIndex\"] = rightIndex;\n        temp_output[\"range\"] = [leftIndex, rightIndex];\n\n        temp_output[\"text\"] = getLeafTextIndices(leftIndex, rightIndex);\n        console.log(\"left n right\");\n        console.log(leftIndex);\n        console.log(rightIndex);\n        var tempNode = node_map[getNodeMapIndex(leftIndex, rightIndex)];\n        console.log(getNodeMapIndex(leftIndex, rightIndex));\n        if (tempNode) {\n            temp_output[\"function\"] = getFunction(tempNode);\n        }\n        else {\n            var jank_temp = rightIndex;\n            while (!tempNode) {\n                if (jank_temp < 0) {\n                    break;\n                    debugger;\n                }\n                jank_temp -= 1;\n                tempNode = node_map[getNodeMapIndex(leftIndex, jank_temp)];\n            }\n            temp_output[\"function\"] = getFunction(tempNode);\n        }\n        if(!temp_output[\"function\"]) {\n            temp_output[\"function\"] = \"Elaboration\";\n        }\n\n        output.push(temp_output);\n        return output;\n    }\n\n    var tempLeft = leftIndex;\n    var tempRight = leftIndex + 1;\n\n    // Need to iterate\n    while (tempRight < rightIndex) {\n        console.log(tempRight)\n        var temp = getNodeMapIndex(tempLeft, tempRight);\n        var temp_size = Math.abs(tempRight - tempLeft);\n\n\n        // IF BEGINNING IS LEAF\n        if (string_output.indexOf(\"span \" + tempLeft) == -1) {\n            var temp_output = {};\n            temp_output[\"leftIndex\"] = tempLeft;\n            temp_output[\"rightIndex\"] = tempLeft;\n            temp_output[\"range\"] = [tempLeft, tempLeft];\n            temp_output[\"text\"] = getLeafTextIndices(tempLeft, tempLeft+1);\n            output.push(temp_output);\n            tempLeft = tempLeft + 1;\n            tempRight = tempRight + 1;\n            console.log(\"Had to do jank shit\");\n            console.log(tempLeft, tempRight);\n            // continue;\n        }\n\n\n        // If not valid span\n        else if (temp == -1) {\n            console.log(\"temp should be -1\");\n            console.log(temp);\n            tempRight += 1;\n\n            // If reached end\n            if (tempRight >= rightIndex) {\n                var temp_output = {};\n                temp_output[\"leftIndex\"] = tempLeft;\n                temp_output[\"rightIndex\"] = tempRight;\n                temp_output[\"range\"] = [tempLeft, tempRight];\n                temp_output[\"text\"] = getLeafTextIndices(tempLeft, tempRight);\n                var tempNode = node_map[getNodeMapIndex(tempLeft, tempRight)];\n                if (tempNode) {\n                    temp_output[\"function\"] = getFunction(tempNode);\n                }\n                else {\n                    var jank_temp = rightIndex;\n                    while (!tempNode) {\n                        jank_temp -= 1;\n                        tempNode = node_map[getNodeMapIndex(leftIndex, jank_temp)];\n\n                        // TODO: FIX\n                        if (jank_temp < 0) {\n                            tempNode = 1;\n                        }\n                    }\n                    if (tempNode==1) {temp_output[\"function\"] = \"Elaboration\"}\n                    else{\n                    tempNode[\"function\"] = getFunction(tempNode); }\n                }\n                if (tempNode==1) {temp_output[\"function\"] = \"Elaboration\"}\n\n                if(!temp_output[\"function\"]) {\n                    temp_output[\"function\"] = \"Elaboration\";\n                }\n\n                output.push(temp_output);\n                return output;\n            }\n        }\n\n        // Do we need to check if its less than max size?\n            // IF VALID SPAN THATS BIG ENOUGH\n        // TODO\n        else if (temp_size >= minSize) {\n            var temp_output = {};\n            temp_output[\"leftIndex\"] = tempLeft;\n            temp_output[\"rightIndex\"] = tempRight;\n            temp_output[\"range\"] = [tempLeft, tempRight];\n            temp_output[\"text\"] = getLeafTextIndices(tempLeft, tempRight);\n            var tempNode = node_map[getNodeMapIndex(tempLeft, tempRight)];\n            if (tempNode) {\n                temp_output[\"function\"] = getFunction(tempNode);\n            }\n            else {\n                var jank_temp = rightIndex;\n                while (!tempNode) {\n                    jank_temp -= 1;\n                    tempNode = node_map[getNodeMapIndex(leftIndex, jank_temp)];\n                }\n                temp_output[\"function\"] = getFunction(tempNode);\n            }\n\n            temp_output[\"function\"] = \"Elaboration\";\n            output.push(temp_output);\n            tempLeft = tempRight + 1;\n            tempRight = tempLeft + 1;\n        }\n        else {\n            tempRight = tempRight + 1;\n        }\n\n        // Third case: not a valid size\n\n    }\n\n    // JANK EDGE CASE\n\n\n\n    return output;\n\n}\n\n\n// Given a node name, extract the indices\nfunction getIndices(name) {\n    console.log(\"getIndices function\")\n\n    console.log(name);\n    name = name.substring(name.indexOf(\"span\") + 4, name.indexOf(\")\"));\n    var bounds = name.trim().split(\" \");\n    var start_index = parseInt(bounds[0]);\n    var end_index = parseInt(bounds[1]);\n    return [start_index, end_index];\n}\n\n// Given leaf name, extract the number value\nfunction getLeafNumber(name) {\n    name = name.substring(name.indexOf(\"leaf\") + 4, name.indexOf(\")\"));\n    return(parseInt(name.trim()));\n}\n\nfunction getLeafTextIndices(a, b) {\n    var output = \"\";\n    for (var i = a; i <= b; i++) {\n        output += \" \" + leaves_with_id[i][\"text\"];\n    }\n    // console.log(output.trim());\n    console.log(a, b);\n    return removeSpaceBefore(output.trim(), [\".\", \",\", \";\"]);\n    // return output.trim();\n}\n\n// input node\nfunction getLeafText(node) {\n    console.log(\"getLeafText function\")\n    console.log(node);\n    var name = node[\"name\"];\n    console.log(node);\n    var bounds = getIndices(name);\n\n    var start_index = bounds[0];\n    var end_index = bounds[1];\n\n    return getLeafTextIndices(start_index, end_index)\n}\n\nfunction removeSpaceBefore(s, punct) {\n    for (var p in punct) {\n        p = punct[p];\n        s = s.split(\" \" + p).join(p);\n        console.log(p)\n    }\n    return s;\n}\n\n// Grouping\n// Input: given a leaf range, break up into groups and function and append them to a list\n// Return: text and their function and indices\nfunction identifyParagraphGroups(leftBound, rightBound) {\n\n\n\n    for (var i = rightBound-1; i > leftBound; i--) {\n\n    }\n\n}\n\nfunction getRanges(x) {\n    var output = [];\n\n    for (var a in x) {\n        output.push(x[a][\"range\"]);\n    }\n    console.log(output);\n}\n\n\n// Find the leaves that can serve as root sentence\nfunction identifyCollapsible() {\n    var collapsibleRanges = [];\n    var max = 0;\n\n    for (var leaf in leaves) {\n        var leafID = leaf;\n        leaf = leaves[leaf];\n        console.log(\"leaf is\");\n        console.log(leaf);\n\n        // Check if nucleus and is to the LEFT (for now)\n        // TODO: check if we want to do right nuclei\n        var isNucleus = leaf[\"name\"].includes(\"Nucleus\") && leaf[\"sibling\"] > leaf[\"id\"];\n        // console.log(isNucleus);\n\n        if (isNucleus) {\n            sibling = node_map[leaf[\"sibling\"]];\n            // console.log(\"node is\");\n            // console.log(leaf);\n            // console.log(sibling);\n            var spanSib = (sibling[\"isLeaf\"] == 0);\n            if(spanSib) {\n                // console.log(leaf);\n                var tempIndex = sibling[\"name\"].indexOf(\"rel2par\");\n                var siblingFunction = sibling[\"name\"].substring(tempIndex+8,sibling[\"name\"].length-1);\n                // console.log(\"sibling is has size \" + sibling[\"size\"] + \" with function \" + siblingFunction);\n                // console.log(sibling);\n\n                if (sibling[\"size\"] < elabSize && sibling[\"size\"] > elabMin) {\n                    console.log(leaf);\n                    var leafNum = getLeafNumber(leaf[\"name\"]);\n\n                    console.log(leaf[\"text\"]);\n                    console.log(sibling);\n                    var siblingText = getLeafText(sibling);\n                    var bounds = getIndices(sibling.name);\n                    var collapsibleRange = [leafNum, bounds[1]];\n                    console.log(collapsibleRange);\n\n                    var collapseInfo = {};\n\n                    // Get rid of weird edge cases\n                    if (collapsibleRange[0] > max && leaf[\"text\"].split(\" \").length > 2) {\n                        collapseInfo[\"range\"] = collapsibleRange;\n                        collapseInfo[\"function\"] = siblingFunction;\n\n                        // Remove punctuation is:\n                        // .replace(/\\s+(\\W)/g, \"$1\");\n\n\n                        collapseInfo[\"headerText\"] = removeSpaceBefore(leaf[\"text\"], [\".\", \",\", \";\"]);\n                        collapseInfo[\"bodyText\"] = removeSpaceBefore(getLeafText(sibling), [\".\", \",\", \";\"]);\n                        collapseInfo[\"isCollapse\"] = 1;\n\n\n\n                        // When there are leaves in between\n                        if (collapsibleRange[0] - max > 1 && getLeafTextIndices(max+1, collapsibleRange[0]-1).replace(/\\s+(\\W)/g, \"$1\").split(\" \").length >2) {\n                            var leafRange = {};\n                            leafRange[\"isCollapse\"] = 0;\n                            console.log(max+1, collapsibleRange[0]-1);\n                            leafRange[\"range\"] = [max+1, collapsibleRange[0] - 1];\n                            leafRange[\"text\"] = removeSpaceBefore(getLeafTextIndices(max+1, collapsibleRange[0]-1), [\".\", \",\", \";\"]);\n\n                            console.log(\"og text:\" + leafRange[\"text\"]);\n                            var splitPara = splitParagraphText(max+1, collapsibleRange[0]-1, mean, smallestSize, largestSize);\n                            // console.log(splitPara);\n                            collapsibleRanges = collapsibleRanges.concat(splitPara);\n\n                            // collapsibleRanges.push(leafRange);\n                        }\n                        console.log(\"Collapse info\");\n                        console.log(collapseInfo);\n                        collapsibleRanges.push(collapseInfo);\n\n\n                        max = collapsibleRange[1];\n                    }\n                }\n            }\n        }\n    }\n    console.log(collapsibleRanges);\n\n\n    // Final edge case in which the remaining text is not part of a collapsible at the very end\n    // Process the remaining\n    var final_range = collapsibleRanges[collapsibleRanges.length - 1][\"range\"];\n    console.log(\"final range\");\n    var numLeaves = Object.keys(leaves_with_id).length\n    if (final_range[1] < numLeaves) {\n        console.log(\"Final concat is happening\")\n        var finalSplit = splitParagraphText(final_range[1]+1, numLeaves, mean, smallestSize, largestSize);\n        console.log(collapsibleRanges);\n        // collapsibleRanges.push(finalSplit);\n\n        for (var s in finalSplit) {\n            collapsibleRanges.push(finalSplit[s]);\n        }\n\n        console.log(collapsibleRanges);\n        console.log(\"additinal\");\n        console.log(finalSplit);\n    }\n    console.log(collapsibleRanges);\n\n    return collapsibleRanges\n}\n\nvar collapsibles = identifyCollapsible();\n\nexport {collapsibles};","import React from 'react';\n\nimport { Menu, Tooltip, Collapse, Form, Select, InputNumber, DatePicker, Switch, Slider, Button, Icon, Layout, Steps} from 'antd';\n\n// import { SettingOutlined, MailOutlined, AppstoreOutlined} from '@ant-design/icons';\n\n// import './App.css';\nimport './css/medium.css'\nimport './css/style.css'\nimport {leaves} from './treeRead.js';\nimport {node_map} from './treeRead.js';\nimport {dummy} from './articleGenerate';\nimport {collapsibles} from \"./articleGenerate\";\nimport ReactDOM from \"react-dom\";\n\nconst { Header, Content, Footer } = Layout;\nconst {Step} = Steps;\n\nconsole.log(\"ello this is imported\");\nconsole.log(leaves);\nconsole.log(node_map);\n\n// import './js/tree_parse'\n\nconst $ = window.$;\n\nconst { Option } = Select;\n\nconst {SubMenu} = Menu;\n\n{/*<script src=\"src/js/tree_parse.js\"></script>*/}\n\n\nconst text = `\n  A dog is a type of domesticated animal.\n  Known for its loyalty and faithfulness,\n  it can be found as a welcome guest in many households across the world.\n`;\nconst { Panel } = Collapse;\n\nvar tt = \"Elaboration\";\n\nconst tree_gen_instruction = \"A raw body of text is inputted. RAR uses a modified version of CODRA (Joty, 2015) to algorithmically extract the rhetorical relations of the text.\";\nconst topic_grouping = \"Using the RST tree, we can automatically identify topic clusters of text. RAR will highlight these groups when hovered and display their functions via tooltip. An example is shown below:\";\nconst topic_sentence = \"RAR can identify key topic sentences (typically ones that indicate a shift from one topic to another) and automatically \" +\n    \"collapse the corresponding topic information. The goal here is to allow users to quickly skim through a list of major topics in the text\" +\n    \"and selectively expand those that they are actually interested in reading. An example topic sentence is shown below:\";\n\nconst test = <p>I'm a beautiful dropdown. I'm a beautiful dropdown. I'm a beautiful dropdown. I'm a beautiful dropdown. I'm a beautiful dropdown. I'm a beautiful dropdown. I'm a beautiful dropdown. </p>;\n\nfunction renderApp() {\n    ReactDOM.render(<App />, document.getElementById('content'));\n}\n\nclass InstructionSteps extends React.Component {\n    render() {\n        return(\n            <div>\n            <h1>RAR: RST Augmented Reader</h1>\n                <div>\n                    <p>RAR is an online text reader that leverages <b>Rhetorical Structure Theory (RST)</b> to augment reading comprehension.\n                RST is a linguistic theory that explains coherence (what makes sentences actually have meaning) by postulating a\n                        hierachical, connected, text structure (<a href=\"https://www.sfu.ca/~mtaboada/docs/publications/Taboada_Mann_RST_Part1.pdf\"><i>Mann, 2006</i></a>).\n                    RST postulates that all meaningful text can be represented by a tree structure in which sentences are assigned a specific function in relation\n                    to the rest of the text. An example of such a function could be 'Elaboration' or 'Contrast'.\n                        For more information, read about RST <a href=\"https://en.wikipedia.org/wiki/Rhetorical_structure_theory\">here</a>.\n\n                    <img src={'https://www.researchgate.net/profile/Pascal_Kuyten/publication/262154724/figure/fig1/AS:296671394189317@1447743380693/RST-tree-representing-the-rhetorical-structure-of-text-leaves-represent-elementary.png'} width={'102%'}></img>\n\n                </p>\n                </div>\n                <div>\n                    <p>We hypothesize that: <b>if readers could easily visualize and understand the underlying rhetorical relations of a text, then it would be easier to understand.</b> RAR is a platform that dynamically generates and displays\n                    text based on its RST tree.\n                    </p>\n\n                </div>\n                {/*<div></div>*/}\n                <h1>How it works\n                </h1>\n\n                {/*Include once written out*/}\n\n\n                <Steps direction=\"vertical\" size={50}>\n                <Step title=\"Tree Generation\" description={tree_gen_instruction} status={\"process\"}/>\n                <Step title=\"Topic Grouping\" description={topic_grouping} status={\"process\"}/>\n                <ParagraphText text={\"Try hovering over this example text. Multiple sentences will usually be grouped together.\"} function={\"Text function will be shown here.\"}/>\n                <Step id=\"third\" title=\"Topic Sentence Identification\" description={topic_sentence} status={\"process\"}/>\n\n                    <CollapsibleSentence className={\"collapse-text-Elaboration\"} header={\"Key topic sentence will be shown here. Click on this header to expand the body text. If you hover on the header it will show the relationship the child node has to the topic sentence.\"} bodytext={\"The extra body text will be shown here. Note that these collapsibles are color coded by function.\"}\n                                         tooltip={\"ExampleFunction\"}/>\n                </Steps>\n                {/*<p><a onClick={renderApp}> Ready for a demo? Click here to begin. </a></p>*/}\n                <p>Ready for a demo? Select the demo tab on the tap navigation bar to begin.</p>\n\n            </div>\n\n        );\n    }\n}\n\nclass RawTextRenderer extends React.Component {\n    render() {\n        return(\n            <div>\n                <div><h1>Wi-fi web reaches farmers in Peru</h1></div>\n            <div>\n                <p>A network of community computer centres, linked by wireless technology, is providing a helping hand for poor farmers in Peru.</p>\n            </div>\n            <div>\n             <p>The pilot scheme in the Huaral Valley, 80 kilometres north of the capital Lima, aims to offer the 6,000-strong community up-to-date information on agricultural market prices and trends. The Agricultural Information Project for Farmers of the Chancay-Huaral Valley also provides vital links between local organisations in charge of water irrigation, enabling them to coordinate their actions. More than 13,000 rural inhabitants, as well as 18,000 students in the region, will also benefit from the telecoms infrastructure.\n             </p>\n            </div>\n                <div><p>            The 14 telecentres uses only free open source software and affordable computer equipment. The network has been three years in the making and was officially inaugurated in September.\n                </p></div>\n\n<div><p>            The non-government organisation, Cepes (Peruvian Centre for Social Studies) led the $200,000 project, also backed by local institutions, the Education and Agriculture ministries, and European development organisations. The plan includes training on computers and internet skills for both operators and users of the system, said Carlos Saldarriaga, technical coordinator at Cepes. Farmers are also taking extra lessons on how to apply the new information to make the most of their plots of land. The Board of Irrigation Users which runs the computer centres, aims to make the network self-sustainable within three years, through the cash generated by using the telecentres as internet cafes.\n</p></div>\n<div><p>            One of the key elements of the project is the Agricultural Information System, with its flagship huaral.org website. There, farmers can find the prices for local produce, as well as information on topics ranging from plague prevention to the latest farming techniques. The system also helps the inhabitants of the Chancay-Huaral Valley to organise their vital irrigation systems. Water is the main element that unites them all. It is a precious element in Peru's coastal areas, because it is so scarce, and therefore it is necessary to have proper irrigation systems to make the most of it, Mr Saldarriaga told the BBC News website. The information network also allows farmers to look beyond their own region, and share experiences with other colleagues from the rest of Peru and even around the world.\n</p></div>\n<div><p>        Cepes says the involvement of the farmers has been key in the project's success. Throughout the last three years, the people have provided a vital thrust to the project; they feel it belongs to them, said Mr Saldarriaga. The community training sessions, attended by an equal number of men and women, have been the perfect showcase for their enthusiasm. We have had an excellent response, mainly from young people. But we have also had a great feedback when we trained 40 or 50-year old women, who were seeing a computer for the first time in their lives. So far, the Huaral programme promoters say the experience has been very positive, and are already planning on spreading the model among other farmers' organisations in Peru. This is a pilot project, and we have been very keen on its cloning potential in other places, underlined Mr Saldarriaga.\n</p></div>\n                <div><p>\n                    The Cepes researcher recalls what happened in Cuyo, a 50-family community with no electricity, during the construction of the local telecentre site. There it was necessary to build a mini-hydraulic dam in order to generate 2kW worth of power for the computers, the communications equipment and the cabin lights. It was already dark when the technicians realised they didn't have any light bulbs to test the generator, so they turned up to the local store to buy light bulbs, recalls Carlos Saldarriaga. The logical answer was 'we don't sell any', so they had to wait until the next morning to do the testing. Now, with the wireless network, Cuyo as well as the other communities is no longer isolated.\n                </p></div>\n            </div>\n\n    );\n    }\n}\n\nclass NavMenu extends React.Component {\n    state = {\n        current: 'instructions',\n    };\n\n    handleClick = e => {\n        console.log('click ', e);\n        this.setState({\n            current: e.key,\n        });\n\n        if (e[\"key\"] == \"instructions\") {\n            ReactDOM.render(<InstructionSteps />, document.getElementById('content'));\n        }\n\n        if (e[\"key\"] == \"app\") {\n            ReactDOM.render(<App />, document.getElementById('content'));\n        }\n\n        if (e[\"key\"] == \"raw\") {\n            ReactDOM.render(<RawTextRenderer/>, document.getElementById('content'));\n\n\n        }\n\n    };\n\n    render() {\n        return (\n            <Header style={{ width:'100%', textAlign:'center'}}>\n                {/*<div className=\"logo\">RST Reader</div>*/}\n\n            <Menu onClick={this.handleClick} selectedKeys={[this.state.current]} mode=\"horizontal\">\n                <Menu.Item key=\"instructions\" active>\n                    Instructions\n                </Menu.Item>\n                <Menu.Item key=\"raw\">\n                    Raw Text\n                </Menu.Item>\n                <Menu.Item key=\"app\">\n                    Demo\n                </Menu.Item>\n\n\n                {/*<Menu.Item key=\"alipay\">*/}\n                    {/*<a href=\"https://ant.design\" target=\"_blank\" rel=\"noopener noreferrer\">*/}\n                        {/*Navigation Four - Link*/}\n                    {/*</a>*/}\n                {/*</Menu.Item>*/}\n            </Menu>\n            </Header>);\n    }\n}\n\n// Collapsible with custom inputs\n// header: Header text\n// bodytext: Body text\n// tooltip: Tooltip\n// id: id\n// Can add class if we want\nclass CollapsibleSentence extends React.Component {\n    render() {\n        return (\n            <Tooltip placement={\"right\"} title={this.props.tooltip}>\n                <div>\n                    <Collapse bordered={false} defaultActiveKey={['-1']} >\n                        <Panel className={\"collapse-text-\"+this.props.tooltip} id={this.props.id} header={<p> {this.props.header} </p>} key=\"1\" showArrow={false}>\n                            <p >{this.props.bodytext}</p>\n                        </Panel>\n                    </Collapse>\n                </div>\n            </Tooltip>\n        )\n    }\n}\n\n// Standard paragraph text\n// text: what you want it to say\n// classname:\nclass ParagraphText extends React.Component {\n    render(x) {\n        return (\n            <Tooltip placement={\"right\"} title={this.props.function}>\n            <p style={this.props.style} className={this.props.classname + \" dynamicText\"}> {this.props.text} </p>\n            </Tooltip>\n        )\n    }\n}\n\n// have list input:\n\n\nconst App = () => {\n    // Divs to output\n    const divs = [<h1>Wi-fi web reaches farmers in Peru</h1>];\n\n    for (const col of collapsibles) {\n\n        if (col[\"isCollapse\"] == 1) {\n            divs.push(<CollapsibleSentence header={col[\"headerText\"]} bodytext={col[\"bodyText\"]}\n                                           tooltip={col[\"function\"]}/>)\n        }\n\n        // Append regular paragraph\n        else {\n            divs.push(<ParagraphText text={col[\"text\"]} function={col[\"function\"]}/>)\n        }\n\n        // divs.push(<NavMenu/>)\n    }\n\n    // Test header\n    return(\n        <div>\n            {divs}\n        </div>\n    )\n\n\n};\n\nReactDOM.render(<NavMenu/>, document.getElementById('header'));\nReactDOM.render(<InstructionSteps />, document.getElementById('content'));\n// console.log(\"you working or nah\");\n// console.log(window.leavesTest);\nexport default App;\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import Menu from './App';\n\nimport * as serviceWorker from './serviceWorker';\n// import * as test from './js/tree_parse'\n// ReactDOM.render(<App />, document.getElementById('content'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}